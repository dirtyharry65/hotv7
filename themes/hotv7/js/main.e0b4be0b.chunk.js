(window.webpackJsonpsyntra=window.webpackJsonpsyntra||[]).push([[0],{44:function(e,t,a){e.exports=a(92)},49:function(e,t,a){},75:function(e,t,a){},82:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),s=(a(49),a(16)),o=a(17),i=a(19),u=a(18),m=a(20),d=a(3),p=a(12),E=a(4),g=a.n(E),f=Object(n.createContext)(),h=function(){return r.a.createElement("div",null,r.a.createElement("img",{className:"logo-image",src:"/static/media/Media_campus.png",alt:"Logo",style:{width:"10rem",margin:" .75rem 0",display:"inline-block",left:"10%"}}))},b=function(e){var t=Object(n.useContext)(f),a=t.isAuthenticated,c=t.user,l=t.logOut,s=function(e){return e.preventDefault(),l(),r.a.createElement(p.a,{to:"/"})};if(!a)return r.a.createElement("nav",{className:"course-header sticky",id:"course-navbar"},r.a.createElement(d.c,{to:"/",style:{left:"10%"}},r.a.createElement(h,null)));switch(c.roles){case"instelling":return r.a.createElement("nav",{className:"course-header sticky",id:"course-navbar"},r.a.createElement(d.c,{to:"/administratie",style:{left:"10%"}},r.a.createElement(h,null)),r.a.createElement("section",null,r.a.createElement(d.c,{to:"/administratie",className:"btn"}," ",r.a.createElement(g.a,{icon:"verified_user",color:"#white"})," Administratie"),r.a.createElement(d.c,{to:"/groepsbeheer",className:"btn"}," ",r.a.createElement(g.a,{icon:"group",color:"white"})," Groepsbeheer"),r.a.createElement(d.c,{to:"/login",className:"btn"}," ",r.a.createElement(g.a,{icon:"account_circle",color:"white"}),r.a.createElement("span",{className:"username"},c.name))));case"docent":return r.a.createElement("nav",{className:"course-header sticky",id:"course-navbar"},r.a.createElement(d.c,{to:"/",style:{left:"10%"}},r.a.createElement(h,null)),r.a.createElement("section",{className:"navbar-right"},r.a.createElement(d.c,{to:"/groepsbeheer",className:"btn"}," ",r.a.createElement(g.a,{icon:"verified_user",color:"white"})," Groepsbeheer"),r.a.createElement("button",{className:"btn",onClick:s},"Afmelden ")));default:return r.a.createElement("nav",{className:"course-header sticky",id:"course-navbar"},r.a.createElement(d.c,{to:"/",style:{left:"10%"}},r.a.createElement(h,null)),r.a.createElement("section",{className:"navbar-right"},r.a.createElement("button",{className:"btn",onClick:s},"Afmelden ")))}},v=(a(75),Object(n.createContext)()),_=a(1),O=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}))},N=function(e){var t=Object(n.useState)(0),a=Object(_.a)(t,2),c=a[0],l=a[1],s=e.controller,o=s.total,i=s.limit,u=e.onTop,m=function(t){console.log(t.target.dataset.index),l(t.target.dataset.index),e.getNewProgress(t.target.dataset.index)};if(i<o){var d=Math.ceil(o/i),p=[],E=i;E=parseInt(c*i)+E>o?o:parseInt(c*i)+E;for(var g=0;g<d;g++){var f="btn";g===parseInt(c)&&(f="btn active"),p.push(r.a.createElement("li",{className:f,key:g,"data-index":g,onClick:m},g+1))}return r.a.createElement("div",{className:"viewedlist-nav"},u?r.a.createElement("span",{className:"small-nav"},"Toont ",parseInt(c*i)+1," t/m ",E," van ",o," "):null,r.a.createElement("ol",{className:"viewedlist-list"},p),u?null:r.a.createElement("span",{className:"small-nav"},"Toont ",parseInt(c*i)+1," t/m ",E," van ",o," "))}return r.a.createElement(O,null)},y=function(e){var t=Object(n.useContext)(v),a=Object(n.useContext)(f),c=t.getProgress,l=t.progress,s=t.total,o=t.offset,i=t.error,u=a.user,m=a.isAuthenticated;Object(n.useEffect)(function(){c(u.id,10,0)},[m]);var p={total:s,limit:10,offset:o};return console.log(l),l?Array.isArray(l)?r.a.createElement(n.Fragment,null,r.a.createElement("ol",null,l.map(function(e){var t=e.course_id,a=e.video_id,n=e.videoTitle,c={color:"white",width:"100%"};return r.a.createElement("li",{key:a,className:"dashboard__link"},r.a.createElement(d.b,{to:"/video/".concat(t,"/").concat(a)},r.a.createElement("span",null),r.a.createElement("span",{className:"dashboard__link-title"},n),r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"bar",style:c}),">")))})),s>10?r.a.createElement(N,{controller:p,getNewProgress:function(e){console.log(e),c(u.id,10,e)}}):null):r.a.createElement("section",{className:"card"},r.a.createElement("h3",null,l)):null!==i?r.a.createElement("h2",null,"Er is iets misgegaan"):r.a.createElement(O,null)},j=Object(n.createContext)(),S=a(29),k=a.n(S);var w=function(e){var t=e.course;return void 0===t.acf?r.a.createElement(O,null):r.a.createElement("figure",null,r.a.createElement(k.a,{height:300,throttle:200},r.a.createElement("img",{src:t.acf.pictogram,alt:t.name,className:"course__image"})))},x=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.course;return e?r.a.createElement(d.b,{to:"video/"+e.id+"/"+e.acf["video-link"],className:"dashboard__course-link",title:"Ga naar ".concat(e.name)},r.a.createElement("article",{className:"dashboard__grid-item",id:e.id},r.a.createElement("header",{className:"thumb-header"},r.a.createElement("h5",null,e.name)," "),r.a.createElement(w,{course:e}))):r.a.createElement("span",null,"Laden...")}}]),t}(n.Component),C=function(){var e=Object(n.useContext)(f),t=Object(n.useContext)(j),a=e.subscriptions,c=t.courses,l=t.getCourses,s=Object(n.useState)([]),o=Object(_.a)(s,2),i=o[0],u=o[1];return Object(n.useEffect)(function(){var e=parseInt(a.cursussen);if(c){for(var t=[],n=function(e){var n=parseInt(a["cursussen_"+e+"_cursus_id"]),r=c.find(function(e){return e.id===n});t.push(r)},r=0;r<e;r++)n(r);u(t)}else l()},[c,a]),r.a.createElement("section",{className:"course__grid"},i.map(function(e,t){return r.a.createElement(x,{course:e,key:t})}))},I=Object(n.createContext)(),R=function(){Object(n.useContext)(I);var e=Object(n.useContext)(f),t=Object(n.useContext)(j),a=t.courses,c=t.getCourses;e.user;Object(n.useEffect)(function(){null===a&&c()},[a]);var l=[];return a&&a.length>0&&a.map(function(e,t){return l.push(r.a.createElement(x,{course:e,key:t})),!0}),r.a.createElement("section",{className:"course__grid"},l)},D=function(e){var t=Object(n.useContext)(f).user;if(t){var a=t.id,c=t.first_name,l=t.last_name,s=t.roles,o=t.name;return"instelling"===s?r.a.createElement(p.a,{to:"/administratie"}):("student"===s?document.title="Dashboard van ".concat(c," ").concat(l):"docent"===s&&(document.title="Dashboard van docent ".concat(o," ")),r.a.createElement("main",{className:"container"},r.a.createElement("section",{className:"dashboard"},r.a.createElement("header",{className:"card-header",id:"user_".concat(a)},r.a.createElement("h2",null,"Dashboard van ",c," ",l," ")),r.a.createElement("section",{className:"dashboard__content"},r.a.createElement("article",{className:"dashboard__content-panel"},r.a.createElement("header",{className:"course__header"},r.a.createElement("h4",null,"Recent bekeken:")),r.a.createElement("section",{className:"course__list_view"},r.a.createElement(y,null))),r.a.createElement("article",{className:"dashboard__content-panel"},r.a.createElement("header",{className:"course__header"},r.a.createElement("h4",null,"Uw cursussen:")),"student"===t.roles?r.a.createElement(C,null):r.a.createElement(R,null))))))}return r.a.createElement("main",{className:"container"},r.a.createElement(O,null))},P=document.getElementById("root"),T=P.dataset.checkout,G=P.dataset.connection,A="https://house-of-training.nl/wp-json/wp/v2/",U=G+"/wp-json/simple-jwt-authentication/v1/token",L=function(e){var t=Object(n.useContext)(f),a=t.user,c=t.isAuthenticated,l=t.isLoggedIn,s=t.checkRegistration,o=t.error;Object(n.useEffect)(function(){l()},[]);if(c)return a.roles&&"instelling"===a.roles[0]?r.a.createElement(p.a,{to:"/administratie"}):r.a.createElement(D,null);var i="";return o&&(i=r.a.createElement("div",{className:"message error"},o.status)),r.a.createElement("div",{className:"login__window"},r.a.createElement("section",{className:"form"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,"Voer registratie code in")),r.a.createElement("article",{className:"sub-header"},r.a.createElement("p",null,"Om toegang te krijgen tot deze site is een registratie code vereist.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);s(t)}},r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"code"},"Registratiecode"),r.a.createElement("input",{id:"code",name:"code",required:!0,type:"text"})),r.a.createElement("p",null,"Deze Code heeft u verkregen van uw instelling, en is persoonlijk."),i,r.a.createElement("section",{className:"form__item"},r.a.createElement("button",{className:"btn"},"Inloggen"),r.a.createElement("input",{type:"hidden",name:"action",value:"checkRegistration"}),r.a.createElement("input",{type:"hidden",name:"nonce",value:T}))),r.a.createElement(d.b,{to:"/login",className:"btn btn-login"},"Login voor Instelling")))},F=a(2),V=a.n(F),J=a(5),z=a(11);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var H=function(e,t){switch(t.type){case"GET_PROGRESS":var a=t.payload.data;return 0===t.payload.total&&(a="Nog geen Video's bekeken, selecteer een Cursus uit het rechterKolom en start Nu!"),M({},e,{progress:a,total:t.payload.total,offset:t.payload.offset,loading:!1});case"START_PROGRESS":return M({},e,{loading:!1,currentProgressID:parseInt(t.payload.id),currentProgress:t.payload,currentMeta:JSON.parse(t.payload.meta),perc_viewed:t.payload.perc_viewed});case"UPDATE_PROGRESS":return M({},e,{loading:!1,perc_viewed:t.payload});case"CLEANUP_PROGRESS":return M({},e,{loading:!1,progress:null});case"PROGRESS_ERROR":return M({},e,{loading:!1,error:t.payload});case"UPDATE_META":return M({},e,{currentMeta:t.payload});default:return e}},W=function(e){var t,a={time:{seconds:0,percent:0,duration:0},actions:[{type:"Start",timestamp:0,data:"Video Monitor gestart"}]},c=a,l=JSON.parse(localStorage.getItem("session"));l&&(t={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+l.token}});var s=Object(n.useReducer)(H,{progress:null,loading:!0,currentVideo:null,videoList:[],courseID:null,currentIndex:0,currentProgressID:0,currentProgress:null,currentMeta:[],perc_viewed:0,currentCourse:null,total:0,offset:0,error:null}),o=Object(_.a)(s,2),i=o[0],u=o[1],m=function(e){return!e.data||(404!==e.data.status||403!==e.data.status)},d=function(){var e=Object(J.a)(V.a.mark(function e(a){var n,r,c,l,s,o,i=arguments;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:25,r=i.length>2&&void 0!==i[2]?i[2]:0,!(c=JSON.parse(localStorage.getItem("session")))){e.next=14;break}return t={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+c.token}},l="".concat(G,"/wp-json/hot/v2/progress/user/").concat(a,"?limit=").concat(n,"&offset=").concat(r),e.next=8,fetch(l,t);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,console.log(o),m(o)&&403!==o.data.status?u({type:"GET_PROGRESS",payload:o}):u({type:"PROGRESS_ERROR",payload:o});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(J.a)(V.a.mark(function e(t,n,r){var c,s,o,i;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.post){e.next=11;break}return c=t.post.post_title,document.title=c,s="".concat(G,"/wp-json/hot/v2/progress/").concat(n),e.next=6,fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",authorization:"Bearer "+l.token},body:"user_id="+n+"&title="+t.post.post_title+"&course_id="+r+"&video_id="+t.post.ID+"&meta="+JSON.stringify(a)});case 6:return o=e.sent,e.next=9,o.json();case 9:(i=e.sent).data?u({type:"START_PROGRESS",payload:i.data}):u({type:"PROGRESS_ERROR",payload:i});case 11:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(J.a)(V.a.mark(function e(t,a){var n,r,c,s;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(100*t.time.percent),r=JSON.stringify(t),c=l.token,s="".concat(G,"/wp-json/hot/v2/progress/").concat(a),e.next=6,fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",authorization:"Bearer "+c},body:"update="+i.currentProgressID+"&meta="+r+"&perc_viewed="+n});case 6:u({type:"UPDATE_PROGRESS",payload:n});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(v.Provider,{value:{progress:i.progress,loading:i.loading,perc_viewed:i.perc_viewed,error:i.error,getProgress:d,updateVideoProgress:E,startVideoProgress:p,currentMeta:c,cleanUpProgress:function(){u({type:"CLEANUP_PROGRESS"})},updateMeta:function(e){console.log("Update Meta"),u({type:"UPDATE_META",payload:e})},total:i.total,offset:i.offset,currentProgressID:i.currentProgressID}},e.children)};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Z=function(e,t){switch(t.type){case"GET_USERS":return K({},e,{users:t.payload.users,total:t.payload.total,loading:!1,groupError:null});case"GET_USER_PROFILE":return K({},e,{userGroupData:t.payload.groups,currentUser:t.payload.user,loading:!1,groupError:null});case"ADD_NEW_USER_TO_GROUP":return K({},e,{groups:t.payload.data,loading:!1,groupError:null});case"DELETE_USER_FROM_GROUP":return console.log(t.payload),K({},e,{loading:!1,groupError:null});case"DELETE_USER_PROFILE":return K({},e,{currentUser:null,userGroupData:null,loading:!1,groupError:null});case"REGISTER_USER":return K({},e,{users:t.payload,loading:!1,groupError:null});case"GET_GROUPS":return K({},e,{groups:t.payload,loading:!1,groupError:null});case"GET_GROUP":return K({},e,{currentGroup:t.payload,loading:!1,groupError:null});case"ADD_NEW_GROUP":return K({},e,{groups:t.payload,loading:!1,groupError:null});case"SET_LOADING":return K({},e,{users:[],loading:!0,groupError:null});case"FILTER_USERS":return K({},e,{loading:!1,filtered:e.users.filter(function(e){var a=new RegExp("".concat(t.payload),"gi");return e.firstname.match(a)||e.lastname.match(a)}),groupError:null});case"FILTER_TEACHERS":return K({},e,{loading:!1,filtered:e.users.filter(function(e){return console.log(e.role,t.payload),!0===t.payload?"docent"===e.role:null})});case"CLEAR_FILTER":return K({},e,{loading:!1,filtered:null,groupError:null});case"GROUP_ERROR":return K({},e,{loading:!1,groupError:t.payload,currentGroup:null});default:return e}},$=function(e){var t=JSON.parse(localStorage.getItem("session")),a={headers:{"Content-Type":"application/json; charset=utf-8"}};t&&t.length>0&&(a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+t.token}});var c=Object(n.useReducer)(Z,{currentUser:null,users:[],edituser:!1,userGroupData:[],groups:null,loading:!1,filtered:null,groupError:null,total:0,currentGroup:null}),l=Object(_.a)(c,2),s=l[0],o=l[1],i=function(){var e=Object(J.a)(V.a.mark(function e(){var t,n,r,c,l,s,i=arguments;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:100,n=i.length>1&&void 0!==i[1]?i[1]:0,o({type:"SET_LOADING"}),r=JSON.parse(localStorage.getItem("session")),c="".concat(G,"/wp-json/hot/v2/students/?limit=").concat(t,"&offset=").concat(n),a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+r.token}},e.prev=6,e.next=9,fetch(c,a);case 9:return l=e.sent,e.next=12,l.json();case 12:s=e.sent,o({type:"GET_USERS",payload:s}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),o({type:"USERS_ERROR",payload:e.t0});case 19:case"end":return e.stop()}},e,null,[[6,16]])}));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(J.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=JSON.parse(localStorage.getItem("session")),n="".concat(G,"/wp-json/hot/v2/students/"),e.next=5,fetch(n,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+a.token},body:JSON.stringify(t)});case 5:return r=e.sent,e.next=8,r.json();case 8:i();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(J.a)(V.a.mark(function e(t){var n,r,c,l;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("session")),a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+n.token}},r="".concat(G,"/wp-json/hot/v2/groups/users/").concat(t.id),e.next=5,fetch(r,a);case 5:return c=e.sent,e.next=8,c.json();case 8:l=e.sent,console.log(l),l.user=t,o({type:"GET_USER_PROFILE",payload:l});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(J.a)(V.a.mark(function e(){var t,n,r,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("session")))){e.next=18;break}return a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+t.token}},n="".concat(G,"/wp-json/hot/v2/groups/"),e.prev=4,e.next=7,fetch(n,a);case 7:return r=e.sent,e.next=10,r.json();case 10:c=e.sent,o({type:"GET_GROUPS",payload:c.data}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("ERROR"),o({type:"GROUP_ERROR",payload:"ERROR"});case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(J.a)(V.a.mark(function e(t){var n,r,c,l;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=JSON.parse(localStorage.getItem("session")))){e.next=18;break}return a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+n.token}},r="".concat(G,"/wp-json/hot/v2/groups/").concat(t),e.prev=4,e.next=7,fetch(r,a);case 7:return c=e.sent,e.next=10,c.json();case 10:l=e.sent,o({type:"GET_GROUP",payload:l.data}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("ERROR"),o({type:"GROUP_ERROR",payload:"ERROR"});case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(J.a)(V.a.mark(function e(t,a){var n,r,c,l;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("session")),r="".concat(G,"/wp-json/hot/v2/groups/").concat(a),e.next=4,fetch(r,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+n.token},body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:l=e.sent,console.log(l),o({type:"ADD_NEW_GROUP",payload:l.groups.data}),o({type:"SET_LOADING"});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(J.a)(V.a.mark(function e(t,a){var n,r,c,l,s;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("session")),r="".concat(G,"/wp-json/hot/v2/groups/users/").concat(t,"?groupid=").concat(a),c=[],e.next=5,fetch(r,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+n.token},body:c});case 5:return l=e.sent,e.next=8,l.json();case 8:s=e.sent,o({type:"ADD_NEW_USER_TO_GROUP",payload:s});case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(J.a)(V.a.mark(function e(t){var a,n,r,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("session")),n="".concat(G,"/wp-json/hot/v2/students/"),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+a.token},body:JSON.stringify(t)});case 4:return r=e.sent,e.next=7,r.json();case 7:403!==(c=e.sent).status?o({type:"DELETE_USER_FROM_GROUP",payload:c}):o({type:"GROUP_ERROR",payload:c.error});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(I.Provider,{value:{users:s.users,groups:s.groups,currentGroup:s.currentGroup,loading:s.loading,userGroupData:s.userGroupData,filtered:s.filtered,groupError:s.groupError,total:s.total,filterUsers:function(e){o({type:"FILTER_USERS",payload:e})},filterTeachers:function(e){o({type:"FILTER_TEACHERS",payload:e})},clearFilter:function(){o({type:"CLEAR_FILTER"})},getGroups:d,getGroup:p,addNewGroup:E,addNewUserToGroup:g,getAllUsers:i,registerUser:u,getUserProfile:m,deleteUserProfile:function(){o({type:"DELETE_USER_PROFILE"})},removeUserFromGroup:f,currentUser:s.currentUser}},e.children)};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Y=function(e,t){switch(t.type){case"GET_COURSES":return X({},e,{courses:t.payload,loading:!1});case"SET_LOADING":return X({},e,{loading:!0});case"GET_VIDEO":var a=t.payload;return X({},e,{loading:!1,currentVideoID:a.id,currentVideo:a.currentVideo});case"SET_COURSE":var n=t.payload.course.chapters,r=t.payload.videoId;console.log(t.payload);var c=[];for(var l in n){var s=n[l].video;for(var o in s)c.push(s[o])}return X({},e,{loading:!1,currentCourse:t.payload.course,currentCourseID:t.payload.courseId,videoList:c,currentVideoID:r});case"SET_CURRENT_VIDEO":return console.log("SET_CURRENT_VIDEO",t.payload),X({},e,{currentVideo:t.payload,loading:!1});default:return e}},ee=function(e){var t=Object(n.useReducer)(Y,{courses:null,loading:!1,currentCourse:null,currentCourseID:null,currentVideo:null,currentVideoID:null,currentIndex:0,currentMeta:null,videoList:null}),a=Object(_.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(J.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage||!localStorage.getItem("courses")){e.next=4;break}l({type:"GET_COURSES",payload:JSON.parse(localStorage.getItem("courses"))}),e.next=13;break;case 4:return m(),e.next=7,fetch(A+"courses?per_page=100");case 7:return a=e.sent,e.next=10,a.json();case 10:n=e.sent,localStorage.setItem("courses",JSON.stringify(n)),l({type:"GET_COURSES",payload:n.data});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(J.a)(V.a.mark(function e(t,a){var n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+"courses/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,l({type:"SET_COURSE",payload:{course:r,courseId:t,videoId:a}});case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(J.a)(V.a.mark(function e(t,a){var n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,a);case 2:n=e.sent,l({type:"GET_VIDEO",payload:{id:t,currentVideo:n}});case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),u=function(e,t){if(!t)return null;var a=c.currentCourse.chapters;for(var n in a){var r=Object.values(a[n].video);for(var l in r)if(parseInt(r[l].post.ID)===parseInt(e))return r[l]}},m=function(){return l({type:"SET_LOADING"})};return r.a.createElement(j.Provider,{value:{courses:c.courses,loading:c.loading,currentCourse:c.currentCourse,currentVideo:c.currentVideo,currentCourseID:c.currentCourseID,videoList:c.videoList,setCurrentVideo:function(e){l({type:"SET_CURRENT_VIDEO",payload:e})},getCourse:o,getVideo:i,getCourses:s}},e.children)};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ne=function(e,t){var a,n,r;switch(t.type){case"USER_LOADED":return a=t.payload.registration.userobject,n=t.payload.registration.session,r=t.payload.registration.subscriptionmeta,localStorage.setItem("userData",JSON.stringify(a)),localStorage.setItem("session",JSON.stringify(n)),localStorage.setItem("subscriptions",JSON.stringify(r)),ae({},e,{isAuthenticated:!0,loading:!1,user:a,subscriptions:r,currentSubscription:void 0,error:null});case"ADMIN_LOADED":return a=t.payload,Array.isArray(a.roles)&&(a.roles=a.roles[0]),localStorage.setItem("userData",JSON.stringify(a)),ae({},e,{isAuthenticated:!0,user:a,subscriptions:null,currentSubscription:null,loading:!1,error:null});case"LOGIN_SUCCESS":return a=t.payload.registration.userobject,n=t.payload.registration.session,r=t.payload.registration.subscriptionmeta,localStorage.setItem("userData",JSON.stringify(a)),localStorage.setItem("session",JSON.stringify(n)),localStorage.setItem("subscriptions",JSON.stringify(r)),ae({},e,{isAuthenticated:!0,user:a,subscriptions:r,loading:!1,error:null});case"LOGOUT":return localStorage.removeItem("userData"),localStorage.removeItem("session"),localStorage.removeItem("subscriptions"),ae({},e,{isAuthenticated:!1,loading:!1,user:null,error:null,subscriptions:null,currentSubscription:null});case"NOT_LOGGED_IN":return ae({},e,{isAuthenticated:!1,loading:!1,error:null,user:null,subscriptions:null});case"WAS_LOGGED_IN":var c=JSON.parse(localStorage.getItem("userData")),l=[];return null!==localStorage.getItem("subscriptions")&&(l=JSON.parse(localStorage.getItem("subscriptions"))),ae({},e,{isAuthenticated:!0,loading:!1,error:null,user:c,subscriptions:l});case"LOGIN_FAIL":case"LOGIN_ERROR":case"AUTH_ERROR":case"REGISTER_FAIL":return localStorage.removeItem("session"),localStorage.removeItem("userData"),localStorage.removeItem("subscriptions"),ae({},e,{isAuthenticated:!1,loading:!1,error:t.payload,user:null,subscriptions:null});case"CLEAR_ERRORS":return ae({},e,{error:null});default:return e}},re=function(e){var t={session:JSON.parse(localStorage.getItem("session")),isAuthenticated:null,loading:!1,error:null,user:null,subscriptions:null,currentSubscription:null},a=Object(n.useReducer)(ne,t),c=Object(_.a)(a,2),l=c[0],s=c[1],o=function(){var e=Object(J.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(G,"/wp-admin/admin-ajax.php"),e.prev=1,e.next=4,fetch(a,{method:"POST",body:t});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r.success),r.success?s({type:"USER_LOADED",payload:r.data}):s({type:"REGISTER_FAIL",payload:r.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),s({type:"REGISTER_FAIL",payload:e.t0});case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),i=function(e){return!e.data||(!e.data.status||403!==e.data.status&&404!==e.data.status)},u=function(){var e=Object(J.a)(V.a.mark(function e(t){var a,n,r,c,l,o,u,m,d,p;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(localStorage&&localStorage.getItem("userData")&&localStorage.getItem("session"))){e.next=19;break}return a=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("session")),r=G+"/wp-json/wp/v2/users/"+a.user_id,e.prev=4,e.next=7,fetch(r,{headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+n.token}});case 7:return c=e.sent,e.next=10,c.json();case 10:l=e.sent,s({type:"ADMIN_LOADED",payload:l}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:e.next=47;break;case 19:return e.next=21,fetch(U,{method:"POST",body:t});case 21:return o=e.sent,e.next=24,o.json();case 24:if(u=e.sent,!i(u)){e.next=45;break}return console.log("Token \xeds Checked, continue..."),e.prev=27,m=G+"/wp-json/wp/v2/users/"+u.user_id,e.next=31,fetch(m,{headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+u.token}});case 31:return d=e.sent,e.next=34,d.json();case 34:p=e.sent,i(p)?(s({type:"ADMIN_LOADED",payload:p}),localStorage.setItem("session",JSON.stringify(u))):(console.log(p),localStorage.clear(),s({type:"REGISTER_FAIL",payload:p})),e.next=43;break;case 38:e.prev=38,e.t1=e.catch(27),console.log(e.t1),localStorage.clear(),s({type:"REGISTER_FAIL",payload:e.t1});case 43:e.next=47;break;case 45:localStorage.clear(),s({type:"REGISTER_FAIL",payload:u});case 47:case"end":return e.stop()}},e,null,[[4,14],[27,38]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{session:l.session,isAuthenticated:l.isAuthenticated,loading:l.loading,subscriptions:l.subscriptions,user:l.user,error:l.error,checkRegistration:o,isLoggedIn:function(){localStorage&&localStorage.getItem("userData")&&localStorage.getItem("session")?s({type:"WAS_LOGGED_IN"}):s({type:"NOT_LOGGED_IN"})},logOut:function(){s({type:"LOGOUT"})},loadAdmin:u}},e.children)},ce=(a(82),function(e){var t=e.match.params.id,a=Object(n.useContext)(j),c=a.courses,l=a.getCourses;if(Object(n.useEffect)(function(){c||l()},[c]),null===c||0===c.length)return r.a.createElement(O,null);var s=c.filter(function(e){return e.id===Number(t)})[0],o=s.acf,i='<section class="course__detail-meta">\n    <span class="course__detail-meta-videos">Aantal Video\'s: '.concat(o.aantal_videos,'</span>\n    <span class="course__detail-meta-time">tijd: ').concat(o.totale_tijdsduur,"</span>\n    </section>\n    "),u=o["video-link"];return r.a.createElement("section",{className:"course__detail"},r.a.createElement("header",{className:"course__header"},r.a.createElement("h2",null,s.name)),r.a.createElement("nav",null,r.a.createElement(d.b,{to:"/"},r.a.createElement("button",{className:"btn"},r.a.createElement("span",null,"Terug")))),r.a.createElement("section",{className:"course__detail-content"},r.a.createElement("aside",{className:"course__detail-aside"},r.a.createElement("figure",{className:"course__detail_figure"},r.a.createElement("img",{src:s.acf.pictogram,alt:"Thumbnail"})),r.a.createElement("section",{dangerouslySetInnerHTML:{__html:i}}),r.a.createElement(d.b,{to:"/video/".concat(s.id,"/").concat(u)},r.a.createElement("button",{className:"btn cta-btn"},"Start Cursus"))),r.a.createElement("article",{className:"course-card"},r.a.createElement("section",{className:"course-card__content",dangerouslySetInnerHTML:{__html:s.acf.info}}))),r.a.createElement("footer",null))}),le=a(14),se=a(42),oe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{id:"theater"},r.a.createElement(se.a,{video:this.props.vimeoID,id:"stage",autoplay:!0,start:this.props.start,onLoaded:this.props.handleOnLoaded,onError:this.props.handleError,onPlay:this.props.handlePlayerPlay,onTimeUpdate:this.props.handlePlayerUpdate,onEnd:this.props.handleEnd,onSeeked:this.props.handleSeeked,onPause:this.props.pauseThePlayer}))}}]),t}(n.Component),ie=function(e){var t=Object(n.useContext)(j),a=Object(n.useContext)(v),c=t.currentVideo,l=a.perc_viewed;return c?r.a.createElement("div",null,r.a.createElement("header",{className:"card-header"},r.a.createElement("h3",null,c.post.post_title)),r.a.createElement("nav",{className:"course__meta"},r.a.createElement("span",{className:"course__detail-meta"},r.a.createElement(g.a,{icon:"movie",size:"18"})," ",c.meta.minuten," min ",c.meta.seconden," sec."),r.a.createElement("span",{className:"course__detail-meta"},r.a.createElement(g.a,{icon:"done_outline",size:"18"}),r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"bar",style:{width:l+"%"}})))),r.a.createElement("section",{className:"right-content",dangerouslySetInnerHTML:{__html:function(e){var t=e.meta.transcriptie.replace(/(<([^>]+)>)/gi,"").split("\n"),a="";return t.forEach(function(e,t){void 0===e.split(" --\x3e ")[1]&&(/^\d+$/.test(e)||(a+='<span class="subtitle-line">'+e+" </span>"))}),a}(c)}})):r.a.createElement(O,null)},ue=(a(86),function(e){var t=Object(n.useContext)(j).currentCourse;return t?r.a.createElement("footer",{className:"video__footer"},r.a.createElement("section",{className:"leftColumn"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,t.name)),r.a.createElement("section",{className:"course__meta"},r.a.createElement("span",{className:"course__detail-meta"},r.a.createElement(g.a,{icon:"movie",size:"18"})," ",t.acf.aantal_videos," video's"),r.a.createElement("span",{className:"course__detail-meta"}," ",r.a.createElement(g.a,{icon:"timer",size:"18"})," ",t.acf.totale_tijdsduur)),r.a.createElement("article",{dangerouslySetInnerHTML:{__html:t.acf.info}})),r.a.createElement("section",{className:"rightColumn"},r.a.createElement(ie,null))):r.a.createElement("footer",{className:"video__footer"},r.a.createElement("section",{className:"leftColumn"},r.a.createElement(O,null)),r.a.createElement("section",{className:"rightColumn"},r.a.createElement(O,null)))}),me=function(e){var t=e.currentCourseID,a=e.link,n=a.post.post_title,c=a.post.ID;return r.a.createElement("li",{className:"chapter__list-item"},r.a.createElement(d.c,{to:"/video/".concat(t,"/").concat(c),id:"video_"+c,className:"chapter__list-item__link"},n))},de=function(e){var t=e.id,a=e.type,n=e.title,c=e.video,l=e.currentCourseID,s=e.werkmateriaal,o=[],i=Object.values(c);for(var u in i)o.push(r.a.createElement(me,{key:u,link:i[u],currentCourseID:l}));var m=null;return""!==s&&(m=r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"}," ",r.a.createElement(g.a,{icon:"cloud_download",color:"white"})," ")),r.a.createElement("li",{className:"chapter "+a,id:"chapter-"+t},r.a.createElement("header",{className:"chapter__header"},r.a.createElement("h4",null," ",n," ")," ",m," ")," ",r.a.createElement("ul",{className:"chapter__list"}," ",o," ")," ")},pe=function(e){var t=Object(n.useContext)(j),a=t.currentCourse,c=t.currentCourseID;if(a){var l=a.chapters,s=Object.values(l),o=[];return s.forEach(function(e){var t=e.data.term_id,a=e.data.name,n=e.video,l=e.acf.type,s=e.acf.werk_materiaal;o.push(r.a.createElement(de,{key:t,id:t.toString(),type:l,currentCourseID:c,title:a,video:n,werkmateriaal:s}))}),r.a.createElement("ul",null,o)}return r.a.createElement("div",null,"Geen Cursus gedetecteerd")},Ee=function(e){var t=Object(n.useContext)(f),a=Object(n.useContext)(v),c=Object(n.useContext)(j),l=t.isAuthenticated,s=t.user,o=c.getCourse,i=c.currentCourse,u=c.getVideo,m=c.currentCourseID,p=c.currentVideo,E=c.videoList,h=a.updateVideoProgress,b=a.perc_viewed,O=a.startVideoProgress,N=Object(n.useState)(!1),y=Object(_.a)(N,2),S=(y[0],y[1]),k=Object(n.useState)(null),w=Object(_.a)(k,2),x=(w[0],w[1]),C=Object(n.useState)([]),I=Object(_.a)(C,2),R=I[0],D=I[1],P=Object(n.useState)(0),T=Object(_.a)(P,2),G=T[0],A=T[1],U=Object(n.useState)(!1),L=Object(_.a)(U,2),F=L[0],z=L[1],B=Object(n.useState)(0),M=Object(_.a)(B,2),H=M[0],W=M[1],q=Object(n.useState)(0),K=Object(_.a)(q,2),Z=(K[0],K[1]),$=Object(n.useState)(!0),Q=Object(_.a)($,2),X=Q[0],Y=Q[1],ee=Object(n.useState)(!1),te=Object(_.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(null),ce=Object(_.a)(re,2),se=ce[0],ie=ce[1],me=function(){var t=Object(J.a)(V.a.mark(function t(){var a,n;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.match.params.id,n=e.match.params.course_id,ne(!1),i){t.next=11;break}return t.next=6,o(n,a);case 6:return t.next=8,u(a,i);case 8:l&&p&&(console.log("Start VideoProgress"),O(p,s.id,m)),t.next=14;break;case 11:return t.next=13,u(a,i);case 13:l&&p&&(console.log("Start VideoProgress"),O(p,s.id,m));case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),de=function(){var t=p.post.ID,a=parseInt(function(e){for(var t in E)if(E[t].post.ID===e)return t}(t))+1,n=E[a],r="/video/".concat(m,"/").concat(n.post.ID);e.history.push(r),ne(!1)},Ee=function(e){X&&(0===e&&(de(),ne(!1)),ne(!0),ie("Volgende video start in ".concat(e," seconden")),console.log(se))};if(Object(n.useEffect)(function(){if(!i){var t=e.match.params.id,a=e.match.params.course_id;o(a,t)}if(localStorage.getItem("autoPlay")){var n=localStorage.getItem("autoPlay");Y(function(e){switch(e){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:default:return!1}}(n))}else localStorage.setItem("autoPlay",X);me(),W(b>0?parseInt(b/100):0)},[e.match.params.id,p,i]),l||p){var ge=null;p&&(ge=r.a.createElement(oe,{start:H,vimeoID:p.meta.video_id,handleOnLoaded:function(e){D([].concat(Object(le.a)(R),[{type:"Start",timestamp:0,data:"Video Monitor gestart"}])),Z(e.duration)},handlePlayerPlay:function(e){A(0);var t=parseInt(e.seconds);Z(e.duration);var a={type:"Play",timestamp:t,data:"Video gestart"};D([].concat(Object(le.a)(R),[a])),S(!1),h({time:e,actions:R},s.id)},handlePlayerUpdate:function(e){(e.duration-e.seconds<10&&Ee(parseInt(e.duration-e.seconds)),x(e),A(G+1),G>50)&&(A(0),console.log(e),h({time:e,actions:R},s.id))},handleEnd:function(e){console.log("Handle End",X),A(0),X&&de()},handleSeeked:function(e){A(0);var t={type:"Seeked",timestamp:parseInt(e.seconds),data:"Tijd verplaatst"};D([].concat(Object(le.a)(R),[t])),S(!1),h({time:e,actions:R},s.id)},pauseThePlayer:function(e){A(0);var t={type:"Paused",timestamp:parseInt(e.seconds),data:"Video gepauzeerd"};D([].concat(Object(le.a)(R),[t])),S(!0),h({time:e,actions:R},s.id)}}));var fe=null;return ae&&(console.log("THe Pop UP"),fe=r.a.createElement("div",{className:"nextPopup"}," ",se," ")),r.a.createElement(n.Fragment,null,r.a.createElement("article",{className:"video__viewer"},r.a.createElement("aside",{className:"video__list",id:"video__list"},r.a.createElement("div",{className:"courseObject-list"},r.a.createElement(pe,null))," ")," ",ge," ",r.a.createElement("span",{className:"btn list-toggle-btn hide__list",onClick:function(e){(z(!F),F)?(document.getElementById("video__list").classList.remove("hide__list"),e.currentTarget.classList.add("hide__list")):(document.getElementById("video__list").classList.add("hide__list"),e.currentTarget.classList.remove("hide__list"))},title:"Open videolijst"}," ",r.a.createElement(g.a,{icon:"arrow_back_ios",color:"white",size:"24"})," ")," ",fe," ")," ",r.a.createElement("section",{className:"container"},r.a.createElement("nav",{className:"video-panel"},"Automatisch volgende video afspelen:",r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:X,onChange:function(){Y(!X),localStorage.setItem("autoPlay",!X)}})," ",r.a.createElement("span",{className:"slider round"}," ")," ")," ")," ")," ",r.a.createElement(ue,null))}return r.a.createElement("div",{className:"container"},r.a.createElement("section",{className:"placeholder-video"},r.a.createElement("h1",null," Helaas Video 's kunnen alleen worden bekeken indien je geregistreerd bent.")," ",r.a.createElement("p",null," Ga terug naar de ",r.a.createElement(d.b,{className:"btn",to:"/"}," start pagina ")," om in te loggen."))," ")},ge=function(e){var t=Object(n.useContext)(f),a=t.user,c=t.logOut;return r.a.createElement("section",{className:"form"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,"Welkom terug, ",a.name)),r.a.createElement("article",{className:"loggedin-content"},r.a.createElement("h5",null,"Je bent nu ingelogd"),r.a.createElement("p",null,"Ga verder naar onze ",r.a.createElement(d.b,{to:"/"},r.a.createElement("button",{className:"btn"},"Start pagina"))),r.a.createElement("h5",null,"Wil je uitloggen?"),r.a.createElement("p",null,"Klik hieronder om uit te loggen"),r.a.createElement("button",{className:"btn",onClick:function(e){c(),e.currentTarget.value="Cache geleegd, ververs nu de pagina"}},"Log Out")))},fe=(a(87),function(e){var t=Object(n.useContext)(f),a=t.loadAdmin,c=t.userError,l=t.error,s="";if(c)switch(console.log(c),c.code){case"[jwt_auth] invalid_username":s="Gebruikersnaam onbekend";break;case"[jwt_auth] incorrect_password":s="Wachtwoord incorrect";break;default:s=c.code}if(l)switch(console.log(l),l.code){case"rest_user_invalid_id":s="Gebruikersnaam staat niet geregistreerd";break;case"[jwt_auth] invalid_username":s="Gebruikersnaam onbekend";break;case"[jwt_auth] incorrect_password":s="Wachtwoord incorrect";break;default:s=l.message}return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"form"},r.a.createElement("header",{className:"course__header"},r.a.createElement("h2",null,"Reeds geregistreerd?")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);a(t)}},c?r.a.createElement("div",{className:"error"},s):"",l?r.a.createElement("div",{className:"error"},s):"",r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"username"},"Gebruikersnaam"),r.a.createElement("input",{id:"username",name:"username",required:!0,type:"text"})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"password"},"Wachtwoord"),r.a.createElement("input",{id:"password",name:"password",required:!0,type:"password"})),r.a.createElement("section",{className:"form__item"},r.a.createElement("button",{className:"btn"},"Inloggen")))),r.a.createElement("section",{className:"form"},r.a.createElement("header",{className:"course__header"},r.a.createElement("h2",null,"RegistratieCode:")),r.a.createElement("section",{className:"form__item"},r.a.createElement("p",null,"Log in met registratie code"),r.a.createElement("span",{className:"btn"},r.a.createElement(d.b,{to:"/"},"Ga naar de registratie pagina")))))}),he=function(e){var t=Object(n.useContext)(f).isAuthenticated;return document.title="Login - ".concat("House of Training"),r.a.createElement("div",{className:"login__window"},t?r.a.createElement(ge,null):r.a.createElement(fe,null))},be=function(e){var t=Object(n.useContext)(I).getUserProfile,a=function(a){a.preventDefault(),t(e.user)};if(!e.user||!e.user.role)return r.a.createElement("tr",null,r.a.createElement("td",null,"Laden..."));var c=e.user,l=c.groups,s="";if(l)for(var o=0;o<l.length;o++)s+=0===o?o+1+": "+l[o].group.name:", "+(o+1)+": "+l[o].group.name;var i="",u="";if("student"===e.user.role){if(c.subscriptions.length>0){var m=c.subscriptions[0],d=m.active,p="Status: In afwachting";u=m.code,null===d||"0"===d?d=0:p="1"===d?"Status: Actief":"Status: Inactief",i=r.a.createElement("span",{title:p,className:"state state_"+d})}return r.a.createElement("tr",{className:"user-list__item",key:c.ID},r.a.createElement("td",{className:"user-list__icon"},r.a.createElement(g.a,{icon:"person_outline",color:"var(--primary-color)",size:"16px",title:"Student"})),r.a.createElement("td",{className:"user-list__name"},r.a.createElement("div",{id:c.id,onClick:a},r.a.createElement("strong",null,e.user.firstname," ",e.user.lastname)," ",r.a.createElement("span",{className:"small"},"[",c.display_name,"]"))),r.a.createElement("td",{className:"user-list__code"},u),r.a.createElement("td",{className:"user-list__date"},s),r.a.createElement("td",{className:"user-list__icon"},i))}return"docent"===e.user.role?r.a.createElement("tr",{className:"user-list__item",key:c.ID},r.a.createElement("td",{className:"user-list__icon"},r.a.createElement(g.a,{icon:"account_circle",color:"var(--secondary-color)",title:"Docent",size:"24"})),r.a.createElement("td",{className:"user-list__name"},r.a.createElement("div",{id:c.id,onClick:a},r.a.createElement("strong",null,e.user.firstname," ",e.user.lastname)," ",r.a.createElement("span",{className:"small"},"[",c.display_name,"]"))),r.a.createElement("td",{className:"user-list__code"},r.a.createElement("strong",null,"Docent")),r.a.createElement("td",{className:"user-list__date"},s),r.a.createElement("td",{className:"user-list__icon"},r.a.createElement("span",{title:"Status: Actief",className:"state state_1"}))):void 0},ve=function(){var e=Object(n.useContext)(I),t=e.filterUsers,a=e.filterTeachers,c=e.clearFilter,l=e.filtered,s=Object(n.useRef)(""),o=Object(n.useRef)(!1);Object(n.useEffect)(function(){null===l&&(s.current.value="")});return r.a.createElement("section",{className:"filter-bar"},r.a.createElement("span",null,r.a.createElement("input",{ref:s,type:"text",id:"filter-users",placeholder:"Zoek gebruiker",onFocus:function(e){o.current.checked=!1,c()},onChange:function(e){""!==s.current.value?t(e.target.value):c()}})),r.a.createElement("span",{className:"checkbox-filter"},r.a.createElement("input",{type:"checkbox",name:"filter-docent",className:"checkbox-custom",id:"filter-docent",ref:o,onChange:function(e){c(),o.current.checked&&a(o.current.checked)}}),r.a.createElement("label",{htmlFor:"filter-docent",className:"checkbox-custom-label"},"Alleen Docenten")))},_e=function(e){var t=Object(n.useContext)(I),a=t.users,c=t.groups,l=t.getAllUsers,s=t.filtered,o=t.total,i=t.loading,u=Object(n.useState)(!0),m=Object(_.a)(u,2),d=m[0],p=m[1],E=function(e){console.log(e),l(100,e)},g={total:o,limit:100,offset:0};Object(n.useEffect)(function(){l()},[]);var f=function(e){if(e&&e.length>0){var t=function(){var t=c,a=[];if(t)for(var n=0;n<e.length;n++)0!==n&&function(){var r=e[n].group.group_id;t.find(function(e){return e.id===r&&a.push(e.courses),null})}();return{v:a}}();if("object"===typeof t)return t.v}};return r.a.createElement("section",{className:"dashboard-item"},r.a.createElement("input",{type:"checkbox",checked:d,onChange:function(){return p(!d)},className:"invi-select",id:"ul1",name:"users_select"}),r.a.createElement("label",{htmlFor:"ul1",className:"group__label"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,"Geregistreerde Gebruikers ",o))),r.a.createElement("article",{className:"dashboard-item-content group_table"},r.a.createElement(ve,null),r.a.createElement(N,{controller:g,getNewProgress:E,onTop:!0}),r.a.createElement("section",{className:"group_table_scroll"},i?r.a.createElement(O,null):null,r.a.createElement("table",{className:"users_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rol"),r.a.createElement("th",null,"Gebruiker"),r.a.createElement("th",null,"Inschrijving"),r.a.createElement("th",null,"Groep(en):"),r.a.createElement("th",null,"Actief"))),r.a.createElement("tbody",null,null!==s?s.map(function(e,t){return r.a.createElement(be,{user:e,key:t,courses:f(e.groups)})}):a.map(function(e,t){return r.a.createElement(be,{user:e,key:t,courses:f(e.groups)})})))),r.a.createElement(N,{controller:g,getNewProgress:E})),r.a.createElement("aside",null))};var Oe=function(e){var t=Object(n.useContext)(I),a=t.groups,c=t.registerUser,l=[],s=Object(n.useState)(""),o=Object(_.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(""),d=Object(_.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)(""),f=Object(_.a)(g,2),h=f[0],b=f[1],v=Object(n.useState)(""),O=Object(_.a)(v,2),N=O[0],y=O[1],j=Object(n.useState)(0),S=Object(_.a)(j,2),k=S[0],w=S[1],x=Object(n.useState)(!1),C=Object(_.a)(x,2),R=C[0],D=C[1],P=Object(n.useState)(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="ABCDEFGHIJKLMNOP1234567890",a="",n=0;n<e;n++){var r=Math.floor(Math.random()*t.length);a+=t.charAt(r)}return a}),T=Object(_.a)(P,2),G=T[0],A=T[1],U=Object(n.useState)(!0),L=Object(_.a)(U,2),F=L[0];if(L[1],!(a&&a.length>0))return null;l=a.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.group.name)});var V=function(e){console.log(e.target.name,e.target.value);var t=e.target.value;switch(e.target.name){case"firstname":return void u(t);case"lastname":return void E(t);case"code":return void b(t);case"email":return void y(t);case"role":return R&&(y(""),A("")),void D(!R);case"password":return void A(t);case"group":return void w(t);default:return}},J="";return R&&(J=r.a.createElement("div",{className:"dashboard-item"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,"Docent gegevens:")),r.a.createElement("article",{className:"dashboard-item-content"},r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"email"},"Email: (",r.a.createElement("span",{className:"alert"},"* "),"indien docent) "),r.a.createElement("input",{id:"email",name:"email",onChange:V,value:N,type:"email",placeholder:"Voer hier de email van Docent in"})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"password"},"Wachtwoord: (",r.a.createElement("span",{className:"alert"},"* "),"indien docent) "),r.a.createElement("input",{id:"password",name:"password",onChange:V,value:G,type:F?"password":"text",placeholder:"Voer hier een sterk wachtwoord in"}))))),r.a.createElement("section",{className:"dashboard-item"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,"Nieuwe Gebruiker")),r.a.createElement("article",{className:"dashboard-item-content"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({firstName:i,lastName:p,email:N,password:G,code:h,role:R,group:k,action:"registerByCode"})}},r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"firstname"},r.a.createElement("span",{className:"alert"},"* "),"Voornaam: "),r.a.createElement("input",{id:"firstname",name:"firstname",value:i,onChange:V,required:!0,type:"text",placeholder:"Voer hier de voornaam in"})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"lastname"},r.a.createElement("span",{className:"alert"},"* "),"Achternaam: "),r.a.createElement("input",{id:"lastname",name:"lastname",value:p,onChange:V,required:!0,type:"text",placeholder:"voer hier de achternaam in"})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"code"},r.a.createElement("span",{className:"alert"},"* "),"Interne code: "),r.a.createElement("input",{id:"code",name:"code",required:!0,type:"text",onChange:V,value:h,placeholder:"Voer hier de internecode in"})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"role"},"Rol: "),r.a.createElement("h5",null,r.a.createElement("input",{id:"role",className:"checkbox-custom",onChange:V,checked:R,name:"role",type:"checkbox"}),r.a.createElement("label",{htmlFor:"role",className:"checkbox-custom-label"}," Docent"))),J,r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"select1"},r.a.createElement("span",{className:"alert"},"* "),"Voeg toe aan een groep:"),r.a.createElement("select",{className:"select-css",multiple:!1,onChange:V,value:k,name:"group",required:!0},l)),r.a.createElement("section",null,r.a.createElement("button",{className:"btn important_btn"},"Maak nieuwe gebruiker aan"),r.a.createElement("input",{type:"hidden",name:"action",value:"registerByCode"})))))};var Ne=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"checkbox",className:"invi-select",id:"db2",name:"group_select",defaultChecked:!0}),r.a.createElement("label",{htmlFor:"db2",className:"group__label"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"blob"},"2")," Gebruikers"))),r.a.createElement("section",{className:"dashboard__description"},r.a.createElement("p",null,"Voeg hier gebruikers toe aan groepen..")),r.a.createElement("article",{className:"dashboard__item-columns"},r.a.createElement(Oe,{checkout:e.checkout,registerUser:e.registerUser,groups:e.groups}),r.a.createElement(_e,{groups:e.groups,showUserProfile:e.showUserProfile})))},ye=function(e){var t=Object(n.useContext)(j),a=t.courses,c=t.getCourses;Object(n.useEffect)(function(){a||c()},[a]);var l=function(t){e.addToCourses(t.target.value)};return a&&a.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"courses-list"},r.a.createElement("ol",null,a.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("input",{type:"checkbox",onChange:l,key:e.id,id:"check_".concat(e.id),name:"courseID",value:e.id,className:"checkbox-custom"})," ",r.a.createElement("label",{className:"checkbox-custom-label",htmlFor:"check_".concat(e.id)},e.name))})))):r.a.createElement("div",null,r.a.createElement(O,null))},je=function(e){var t=Object(n.useContext)(f),a=Object(n.useContext)(I),c=t.user,l=a.addNewGroup,s=Object(n.useState)(""),o=Object(_.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(""),d=Object(_.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)([]),h=Object(_.a)(g,2),b=h[0],v=h[1];return r.a.createElement("section",{className:"dashboard-item"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,"Nieuwe Groep")),r.a.createElement("article",{className:"dashboard-item-content"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={groupname:i,description:p,courses:b.toString()};l(t,c.id),u(""),E(""),v([])}},r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"groupname"},r.a.createElement("span",{className:"alert"},"*")," Groepsnaam:"),r.a.createElement("input",{id:"groupname",name:"groupname",placeholder:"nieuwe groepsnaam",required:!0,type:"text",onChange:function(e){u(e.target.value)},value:i})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"description"},"Omschrijving"),r.a.createElement("textarea",{value:p,onChange:function(e){E(e.target.value)},id:"description",name:"description",cols:35,rows:5})),r.a.createElement("section",{className:"form__item"},r.a.createElement("label",null,r.a.createElement("span",{className:"alert"},"*")," Gekoppelde cursus:"),r.a.createElement(ye,{includeList:e.includeList,addToCourses:function(e){var t=b.indexOf(e);if(t>-1)b.splice(t,1);else{var a=[].concat(Object(le.a)(b),[e]);v(a)}}})),r.a.createElement("section",null,r.a.createElement("button",{className:"btn important_btn"},"Nieuwe groep aanmaken"),r.a.createElement("input",{name:"userid",value:c.id,type:"hidden"}))),r.a.createElement("section",{className:"message-panel"})))},Se=(a(88),function(e){var t=e.user,a=t.id,n=t.first_name,c=t.last_name,l=t.roles,s=t.subscriptions,o=l,i=null,u="1";s&&s.length>0&&(u=(i=s[0]).active);var m="Status: In afwachting";null===u||"0"===u?u=0:m="1"===u?"Status: Actief":"Status: Inactief";var d=r.a.createElement("span",{title:m,className:"state state_"+u}),p="";switch(o.toLowerCase()){case"student":p=r.a.createElement(g.a,{icon:"person_outline",color:"#49b4aa",title:"".concat(o,"_").concat(a)});break;case"docent":p=r.a.createElement(g.a,{icon:"person",color:"#2d89cc",title:o});break;default:p=r.a.createElement(g.a,{icon:"person",color:"#004474",title:o})}return r.a.createElement("tr",{className:"user-list__item"},r.a.createElement("td",{className:"user-list__icon"},p),r.a.createElement("td",{className:"user-list__name"},r.a.createElement("div",{id:a},n," ",c)),r.a.createElement("td",{className:"user-list__date"},r.a.createElement("strong",null,i?i.subscription:null)),r.a.createElement("td",{className:"user-list__date"},r.a.createElement(g.a,{icon:"archive",onClick:function(e){e.preventDefault()},id:a})),r.a.createElement("td",{className:"user-list__date"},d))}),ke=function(e){var t=e.users,a=[];if(t&&t.length>0){t.forEach(function(e,t){"student"!==e.roles&&"docent"!==e.roles||a.push(r.a.createElement(Se,{user:e,key:t}))});var c={width:"2%"},l={width:"45%"};return r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"user-list"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:c}),r.a.createElement("th",{style:l},"Student/ docent "),r.a.createElement("th",{style:l},"Registratie code: "),r.a.createElement("th",{style:c},"Voortgang: "),r.a.createElement("th",{style:c},"Actief: "))),r.a.createElement("tbody",null,a)))}return r.a.createElement("div",null,"Lege groep")},we=function(e){var t=Object(n.useState)(null),a=Object(_.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(j).courses,o=e.group.group,i=o.name,u=o.group_id,m=o.description,p=function(){var e=Object(J.a)(V.a.mark(function e(){var t,a,n,r,s;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==c){e.next=20;break}if(!(t=JSON.parse(localStorage.getItem("session")))){e.next=18;break}return a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+t.token}},n="".concat(G,"/wp-json/hot/v2/groups/?id=").concat(u),e.prev=5,e.next=8,fetch(n,a);case 8:return r=e.sent,e.next=11,r.json();case 11:s=e.sent,l(s.data[0].users),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("ERROR");case 18:e.next=21;break;case 20:l(null);case 21:case"end":return e.stop()}},e,null,[[5,15]])}));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=[];return e?((e=e.split(",")).forEach(function(e){s&&s.find(function(a){return parseInt(a.id)===parseInt(e)&&t.push(a),null})}),t):null}(e.group.courses),g=e.group.total_users,f=[];E&&E.length>0&&E.forEach(function(e){var t=e.name.replace(/&amp;/g,"&");f.push(r.a.createElement("li",{className:"course-item-title",key:e.id},r.a.createElement(d.b,{to:"cursus/"+e.id,className:"course-link",title:"Ga naar ".concat(e.name)},t," (",e.count," video's)")))});var h="";if(m&&(h=r.a.createElement("section",{className:"group__description"},r.a.createElement("p",null,m))),"Registered"===i)return null;var b=r.a.createElement(ke,{users:c});return r.a.createElement("article",{className:"group__item",id:"group_"+u},r.a.createElement("input",{type:"checkbox",className:"invi-select",id:"Choice"+u,name:"course_select"}),r.a.createElement("label",{htmlFor:"Choice"+u,className:"group__label"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,i," ",r.a.createElement("span",{className:"circle",title:"Aantal studenten: "+g},g)))),r.a.createElement("section",{className:"group_table"},h,r.a.createElement("section",{className:"group__description"},b,r.a.createElement("button",{className:"btn",onClick:p},c?"Verberg Cursisten":"Toon cursisten"),r.a.createElement("h5",null,"Deze groep volgt de volgende cursus(sen): "),r.a.createElement("ul",{className:"course-listing"},f)),r.a.createElement("button",{className:"btn disabled",disabled:!0},"De-activeer Groep"),r.a.createElement("button",{className:"btn disabled",disabled:!0},"Download Excel")))},xe=function(e){var t=Object(n.useContext)(I),a=t.getGroups,c=t.groups;Object(n.useEffect)(function(){a()},[]);var l=[];return c&&c.length>0?c.forEach(function(e,t){l.push(r.a.createElement(we,{group:e,key:t}))}):l.push(r.a.createElement("span",{key:"werwrevhtuy"},r.a.createElement("h4",null,"Groepen worden geladen..."),r.a.createElement(O,null))),r.a.createElement("section",{className:"dashboard-item"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,"Groepen: (",c?c.length:0,")")),r.a.createElement("article",{className:"dashboard-item-content"},r.a.createElement("section",{className:"groups__grid"},l)))},Ce=function(){var e,t=Object(n.useContext)(I),a=t.groups,c=t.addNewUserToGroup,l=t.currentUser,s=Object(n.useState)(""),o=Object(_.a)(s,2),i=o[0],u=o[1];if(a){var m=l.groups;e=a.map(function(e){return m.find(function(t){return t.group.group_id===e.id})?r.a.createElement("option",{key:e.id,value:e.id,disabled:!0}," ",e.group.name):r.a.createElement("option",{key:e.id,value:e.id}," ",e.group.name)})}return r.a.createElement("div",{className:"add_to_group disabled"},r.a.createElement("h3",null,"Voeg toe aan een nieuwe groep"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=l.id;console.log(t,i),c(t,i)}},r.a.createElement("section",{className:"form__item"},r.a.createElement("label",{htmlFor:"select1"},r.a.createElement("span",{className:"alert"},"* "),"Selecteer groep:"),r.a.createElement("select",{className:"select-css",name:"group",onChange:function(e){u(e.target.value)},value:i,required:!0},e)),r.a.createElement("section",null,r.a.createElement("button",{className:"btn important_btn",disabled:!0},"Voegtoe aan Groep"))))},Ie={color:"white",backgroundColor:"var(--secondary-color)",padding:"5px"},Re=function(e){var t=e.courses,a=[];t&&t.length>0&&t.forEach(function(e,t){var n=e.name;a.push(r.a.createElement("li",{key:t},n))});var n=e.status,c="Status: In afwachting";return null===n||"0"===n?n=0:c="1"===n?"Status: Actief":"Status: Inactief",r.a.createElement("div",{className:"grouped",key:e.index},r.a.createElement("h4",{title:"Dit is de inlog code voor de student of docent",style:Ie}," ",e.factuurnummer,"   ",r.a.createElement("span",{title:c,className:"state state_".concat(n)})," "),r.a.createElement("section",{className:"subscription_courses_list"},r.a.createElement("ol",null,a)),r.a.createElement("button",{className:"btn btn-small disabled",disabled:!0},"De-activeer inschrijving"))},De=function(e){var t=Object(n.useContext)(v),a=Object(n.useContext)(I),c=t.getProgress,l=t.progress,s=t.total,o=a.currentUser;if(Object(n.useEffect)(function(){o&&c(o.id,20)},[]),l){if("empty"===l[0])return r.a.createElement("div",null,"Geen video's bekeken");var i=[];return console.log(l),Array.isArray(l)?l.map(function(e,t){var a={color:"white",width:"100%",WebkitTransition:"all",msTransition:"all"};return i.push(r.a.createElement("tr",{key:t,className:"viewed__list__item"},r.a.createElement("td",null,r.a.createElement(d.b,{to:"/video/".concat(e.course_id,"/").concat(e.video_id)},r.a.createElement(g.a,{icon:"play_circle_filled"}),e.videoTitle)),r.a.createElement("td",null,r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"bar",style:a}))),r.a.createElement("td",null,e.last_viewed))),i}):i.push(r.a.createElement("tr",{key:0,className:"viewed__list__item"},r.a.createElement("td",null,"Nog geen video's bekeken"),r.a.createElement("td",null),r.a.createElement("td",null))),r.a.createElement("section",{className:"dashboard"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h4",null," ",s," bekeken video's")),r.a.createElement("div",null,r.a.createElement("table",{className:"viewed__list"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Video Titel"),r.a.createElement("th",null,"Voortgang"),r.a.createElement("th",null,"Laatst bekeken"))),r.a.createElement("tbody",null,i))))}return r.a.createElement("div",null,r.a.createElement(O,null))},Pe=function(e){var t=Object(n.useContext)(I),a=Object(n.useContext)(v),c=Object(n.useContext)(j),l=t.currentUser,s=t.deleteUserProfile,o=t.removeUserFromGroup,i=c.courses,u=a.cleanUpProgress,m=function(e){e.preventDefault(),u(),s()},d=function(e){if(e.preventDefault(),window.confirm("Hiermee wordt de gebruiker uit de groep gezet en de bijbehorende inschrijving op non-actief.\nDeze actie kan niet ongedaan worden gemaakt!\n\nWeet u zeker ")){console.log("Confirmed: "+e.target.dataset.id);var t={action:"removeFromGroup",userid:l.id,groupid:e.target.dataset.id};o(t)}else console.log("Not Confirmed"+e.target.dataset.id)};if(l){var p=l.display_name,E=l.role,f=l.email,h=l.subscriptions,b=l.groups,_=[];b.length>0&&b.forEach(function(e){_.push(r.a.createElement("button",{className:"btn btn-delete disabled",disabled:!0,"data-id":e.group.group_id,key:e.group.group_id,title:"Verwijder gebruiker uit ".concat(e.group.name),onClick:d}," ",e.group.name," "))});var O,N,y=h.map(function(e,t){for(var a=e.subscriptionmeta,n=e.active,c=parseInt(a.cursussen[0]),l=[],s=[],o=function(e){var t=a["cursussen_"+e+"_cursus_id"][0];i.find(function(e){return e.id===parseInt(t)&&l.push(e),null})},u=0;u<c;u++)o(u);return s.push(r.a.createElement(Re,{key:t,factuurnummer:a.factuurnummer,index:t,courses:l,status:n})),s});return"docent"===E&&(O=r.a.createElement("tr",null,r.a.createElement("td",null,"Email Docent:"),r.a.createElement("td",null,f))),"student"===E&&(N=r.a.createElement("tr",null,r.a.createElement("td",null,"Inschrijvingen: "),r.a.createElement("td",null,y))),r.a.createElement("div",{className:"modal user-modal",onClick:m},r.a.createElement("section",{className:"modal-box",onClick:function(e){return e.stopPropagation()}},r.a.createElement("header",{className:"modal-header"},r.a.createElement("span",{className:"modal-header-grid"},function(e){switch(e){case"student":return r.a.createElement(g.a,{icon:"person_outline",color:"white",title:e});case"docent":default:return r.a.createElement(g.a,{icon:"person",color:"white",title:e})}}(E),r.a.createElement("h1",null,l.firstname," ",l.lastname,"  ",r.a.createElement("small",null," ( Geregistreerd als ",p," )")),r.a.createElement("button",{onClick:m,className:"btn low-action-btn"},r.a.createElement(g.a,{icon:"close",color:"white"})))),r.a.createElement("article",{className:"modal-main-content"},r.a.createElement("table",{className:"colofon"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Voornaam:"),r.a.createElement("td",null,l.firstname)),r.a.createElement("tr",null,r.a.createElement("td",null,"Achternaam:"),r.a.createElement("td",null,l.lastname)),r.a.createElement("tr",null,r.a.createElement("td",null,"Rol: "),r.a.createElement("td",null,l.role)),O,r.a.createElement("tr",null,r.a.createElement("td",null,"Lid van groep(en): "),r.a.createElement("td",null,_)),N)),"student"===E?r.a.createElement(De,null):r.a.createElement(Ce,null)),r.a.createElement("footer",null,r.a.createElement("button",{className:"btn btn-flat",onClick:m},"Sluit venster"))))}return null},Te=function(e){var t=Object(n.useContext)(f),a=t.isAuthenticated,c=t.user,l=t.isLoggedIn;if(Object(n.useEffect)(function(){a||l()},[a]),a){var s="Administratie Paneel - ".concat("House of Training");document.title=s;var o=c.roles;return"instelling"===o||"administrator"===o?r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,"Administratie Paneel")),r.a.createElement("main",{className:"dashboard"},r.a.createElement("section",{className:"dashboard__item"},r.a.createElement("input",{type:"checkbox",className:"invi-select",id:"db1",name:"group_select"}),r.a.createElement("label",{htmlFor:"db1",className:"group__label"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"blob"},"1")," Groepen"))),r.a.createElement("section",{className:"dashboard__description"},r.a.createElement("p",null,"Maak allereerst een groep aan en koppel hieraan cursus(sen).")),r.a.createElement("article",{className:"dashboard__item-columns"},r.a.createElement(je,null),r.a.createElement(xe,null))),r.a.createElement("section",{className:"dashboard__item"},r.a.createElement(Ne,null))),r.a.createElement(Pe,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,"Geen Toegang")),r.a.createElement("main",null,r.a.createElement("p",null,"U heeft omvoldoende rechten om deze pagina te kunnen bekijken."))))}return r.a.createElement(O,null)},Ge=function(e){var t=Object(n.useContext)(I).getUserProfile,a=e.user,c=a.id,l=a.first_name,s=a.last_name,o=a.roles,i=a.subscriptions,u=o,m=null,d="1";i&&i.length>0&&(d=(m=i[0]).active);var p="Status: In afwachting";null===d||"0"===d?d=0:p="1"===d?"Status: Actief":"Status: Inactief";var E=r.a.createElement("span",{title:p,className:"state state_"+d}),f="";switch(u.toLowerCase()){case"student":f=r.a.createElement(g.a,{icon:"person_outline",color:"#49b4aa",title:"".concat(u,"_").concat(c)});break;case"docent":f=r.a.createElement(g.a,{icon:"person",color:"#2d89cc",title:u});break;default:f=r.a.createElement(g.a,{icon:"person",color:"#004474",title:u})}return r.a.createElement("tr",{className:"user-list__item"},r.a.createElement("td",{className:"user-list__icon"},f),r.a.createElement("td",{className:"user-list__name"},r.a.createElement("div",{onClick:function(a){a.preventDefault(),t(e.user)},id:c},l," ",s)),r.a.createElement("td",{className:"user-list__date"},r.a.createElement("strong",null,m?m.subscription:"N.v.t")),r.a.createElement("td",{className:"user-list__date"},m?r.a.createElement(g.a,{icon:"archive",onClick:function(t){t.preventDefault(),e.downloadProgress(t.target.id)},id:c}):null),r.a.createElement("td",{className:"user-list__date"},E))},Ae=function(e){var t=e.users,a=[];if(t&&t.length>0){t.forEach(function(e,t){"student"!==e.roles&&"docent"!==e.roles||a.push(r.a.createElement(Ge,{user:e,key:t}))});var n={width:"2%"},c={width:"45%"};return r.a.createElement("table",{className:"user-list"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:n}),r.a.createElement("th",{style:c},"Student/ docent "),r.a.createElement("th",{style:c},"Registratie code: "),r.a.createElement("th",{style:n},"Voortgang: "),r.a.createElement("th",{style:n},"Actief: "))),r.a.createElement("tbody",null,a))}return r.a.createElement("div",null,"Lege groep")},Ue=function(e){var t=Object(n.useContext)(j).courses,a=Object(n.useState)(null),c=Object(_.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!1),i=Object(_.a)(o,2),u=i[0],m=i[1],p=Object(n.useState)(!1),E=Object(_.a)(p,2),g=E[0],f=E[1],h=Object(n.useState)(null),b=Object(_.a)(h,2),v=(b[0],b[1],e.group.group),N=v.name,y=v.group_id,S=v.description,k=function(){var e=Object(J.a)(V.a.mark(function e(){var t,a,n,r,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==l){e.next=23;break}if(f(!0),!(t=JSON.parse(localStorage.getItem("session")))){e.next=21;break}return a={headers:{"Content-Type":"application/json; charset=utf-8",authorization:"Bearer "+t.token}},n="".concat(G,"/wp-json/hot/v2/groups/?id=").concat(y),e.prev=6,e.next=9,fetch(n,a);case 9:return r=e.sent,e.next=12,r.json();case 12:c=e.sent,s(c.data[0].users),f(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("ERROR"),f(!1);case 21:e.next=24;break;case 23:s(null);case 24:case"end":return e.stop()}},e,null,[[6,17]])}));return function(){return e.apply(this,arguments)}}(),w=function(e){var a=[];return e?((e=e.split(",")).forEach(function(e){t.find(function(t){return parseInt(t.id)===parseInt(e)&&a.push(t),null})}),a):null}(e.group.courses),x=e.group.total_users,C=[];w&&w.length>0&&w.forEach(function(e){var t=e.name.replace(/&amp;/g,"&");C.push(r.a.createElement("li",{className:"course-item-title",key:e.id}," ",r.a.createElement(d.b,{to:"cursus/"+e.id,className:"course-link",title:"Ga naar ".concat(e.name)}," ",t,"(",e.count,"video 's)")))});var I="";if(S&&(I=r.a.createElement("section",{className:"group__description"}," ",r.a.createElement("p",null," ",S," "))),"Registered"===N)return null;var R=r.a.createElement(Ae,{users:l});return r.a.createElement("article",{className:"group__item",id:"group_"+y},r.a.createElement("input",{type:"checkbox",className:"invi-select",id:"Choice"+y,name:"course_select"}),r.a.createElement("label",{htmlFor:"Choice"+y,className:"group__label"},r.a.createElement("header",{className:"dashboard-item-header"},r.a.createElement("h3",null," ",N," ",r.a.createElement("span",{className:"circle",title:"Aantal studenten: "+x}," ",x," ")))),g?r.a.createElement(O,null):null,I,r.a.createElement("button",{className:"btn",onClick:k},l?"Verberg Cursisten":"Toon cursisten"),r.a.createElement("button",{className:"btn",onClick:function(){m(!u)}},u?"Verberg Cursussen":"Toon cursussen"),r.a.createElement("section",{className:"group__description"},r.a.createElement("section",{className:"table show"}," ",R," "),r.a.createElement("h5",null," Deze groep volgt de volgende cursus(sen): "),r.a.createElement("ul",{className:"course-listing ".concat(u?"show":"hide")}," ",C," ")),r.a.createElement("a",{href:"".concat(G,"/wp-admin/admin-ajax.php?action=group_csv_pull&id=").concat(y,"&nonce=").concat(T),className:"btn download-link"},"Download studenten lijst."))},Le=(a(89),a(90),function(e){var t=Object(n.useContext)(I),a=Object(n.useContext)(v),c=t.currentUser,l=t.deleteUserProfile,s=a.progress,o=a.cleanUpProgress,i=function(e){e.preventDefault(),o(),l()};if(c){var u=c.first_name,m=c.last_name,d=c.role,p=c.subscriptions;return s&&s.length>0&&s.length,r.a.createElement("div",{className:"modal user-modal",onClick:i},r.a.createElement("section",{className:"modal-box",onClick:function(e){return e.stopPropagation()}},r.a.createElement("header",{className:"modal-header"},r.a.createElement("span",{className:"modal-header-grid"},r.a.createElement(g.a,{icon:"person_outline",color:"white",title:d}),r.a.createElement("h1",null,u," ",m," "),r.a.createElement("button",{onClick:i,className:"btn low-action-btn"},r.a.createElement(g.a,{icon:"close",color:"white"})))),r.a.createElement("article",{className:"modal-main-content"},r.a.createElement("table",{className:"colofon"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Voornaam:"),r.a.createElement("td",null,u)),r.a.createElement("tr",null,r.a.createElement("td",null,"Achternaam:"),r.a.createElement("td",null,m)),"student"===d?r.a.createElement("tr",null,r.a.createElement("td",null,"Registratie Code:"),r.a.createElement("td",null,r.a.createElement("strong",null,p[0].subscription))):null)),r.a.createElement(De,null)),r.a.createElement("footer",null,r.a.createElement("button",{className:"btn btn-flat",onClick:i},"Sluit venster"))))}return null}),Fe=function(e){var t=Object(n.useContext)(I),a=Object(n.useContext)(f),c=Object(n.useContext)(j),l=t.getGroups,s=t.groups,o=a.user,i=c.courses,u=c.getCourses;Object(n.useEffect)(function(){l(),i||u()},[i]);if(o){if("docent"===o.roles||"instelling"===o.roles){document.title="Groepsbeheer - ".concat("House of Training");var m=[];return s&&s.length>0?s.forEach(function(e,t){if("docent"===o.roles){var a=function(e,t){var a=[];e=e.split(",");var n=t;return e.forEach(function(e){n.find(function(t){return parseInt(t.id)===parseInt(e)&&a.push(t),null})}),a}(e.courses,i);m.push(r.a.createElement(Ue,{group:e,courses:a,key:t}))}else m.push(r.a.createElement(Ue,{group:e,key:t}))}):m.push(r.a.createElement("span",{key:"0"},r.a.createElement("h4",null,"Groepen worden geladen..."),r.a.createElement(O,null))),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("section",{className:"dashboard-item"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h1",null,"Groepen")),r.a.createElement("article",{className:"dashboard-item-content"},r.a.createElement("section",{className:"groups__grid"},m)),r.a.createElement("footer",{className:"dashboard-item-footer"}))),r.a.createElement(Le,null))}return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,"Geen Toegang")),r.a.createElement("main",null,r.a.createElement("p",null,"U heeft omvoldoende rechten om deze pagina te kunnen bekijken."),r.a.createElement("p",null,"Ga terug naar de ",r.a.createElement(d.b,{to:"/"},"Start"),"pagina om in te loggen")))}return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,"Geen Toegang")),r.a.createElement("main",{className:"dashboard center-warning"},r.a.createElement("h4",null,"U heeft omvoldoende rechten om deze pagina te kunnen bekijken."),r.a.createElement("p",null,"Ga terug naar de ",r.a.createElement(d.b,{to:"/"},"Startpagina")," om in te loggen")))},Ve=(a(91),document.getElementById("root").dataset.domain),Je=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(re,null,r.a.createElement(ee,null,r.a.createElement(W,null,r.a.createElement($,null,r.a.createElement(d.a,{basename:"/"+Ve},r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("main",{className:"main-window"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:L}),r.a.createElement(p.b,{path:"/cursus/:id",component:ce}),r.a.createElement(p.b,{path:"/login",component:he}),r.a.createElement(p.b,{path:"/video/:course_id/:id",component:Ee}),r.a.createElement(p.b,{path:"/administratie",component:Te}),r.a.createElement(p.b,{path:"/groepsbeheer",component:Fe})))))))))}}]),t}(n.Component);if(document.getElementById("root")){console.log("Start");var ze=document.getElementById("root"),Be=ze.dataset.checkout,Me=ze.dataset.port;l.a.render(r.a.createElement(Je,{checkout:Be,portal:Me}),document.getElementById("root"))}}},[[44,1,2]]]);
//# sourceMappingURL=main.e0b4be0b.chunk.js.map