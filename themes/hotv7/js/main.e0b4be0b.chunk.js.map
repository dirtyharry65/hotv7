{"version":3,"sources":["context/auth/authContext.js","components/layout/Logo.js","components/layout/Navbar.js","context/progress/progressContext.js","components/layout/Spinner.js","components/administration/Pagination.js","components/dashboard/elements/ProgressList.js","context/courses/coursesContext.js","components/layout/Image.js","components/dashboard/DashboardCourseItem.js","components/dashboard/elements/SubscriptionsList.js","context/users/usersContext.js","components/dashboard/elements/TeacherCourses.js","components/dashboard/Dashboard.js","context/types.js","components/layout/Index.js","context/progress/progressReducer.js","context/progress/ProgressState.js","context/users/usersReducer.js","context/users/UsersState.js","context/courses/coursesReducer.js","context/courses/CoursesState.js","context/auth/authReducer.js","context/auth/AuthState.js","components/courses/Coursedetail.js","components/playerv2/HotVideoPlayer.js","components/playerv2/VideoDetail.js","components/playerv2/VideoFooter.js","components/playerv2/Linker.js","components/playerv2/ListItem.js","components/playerv2/ListItems.js","components/playerv2/PlayerContainer.js","components/login/LoggedIn.js","components/login/NotLoggedIn.js","components/login/Login.js","components/administration/AllListItem.js","components/administration/includes/UsersFilter.js","components/administration/UsersList.js","components/administration/includes/NewUserForm.js","components/administration/Users.js","components/administration/AdminCoursesSelect.js","components/administration/NewGroup.js","components/administration/GroupsTableRow.js","components/administration/GroupTable.js","components/administration/GroupItem.js","components/administration/AllGroups.js","components/administration/includes/AddToGroup.js","components/administration/ActiveSubscriptionsRowItem.js","components/administration/ViewedList.js","components/administration/Modal.js","components/administration/Administratie.js","components/groepsbeheer/GroupsTableRow.js","components/groepsbeheer/GroupTable.js","components/groepsbeheer/GroupItem.js","components/layout/Modal.js","components/groepsbeheer/Groups.js","App.js","index.js"],"names":["AuthContext","createContext","className","src","alt","style","width","margin","display","Navbar","props","authContext","useContext","isAuthenticated","user","logOut","onLogoutClick","e","preventDefault","to","id","Logo","roles","icon","color","name","onClick","ProgressContext","Pagination","useState","index","setIndex","controller","total","limit","onTop","console","log","target","dataset","getNewProgress","pages","Math","ceil","btns","max","parseInt","i","push","key","data-index","Spinner","ProgressList","progressContext","getProgress","progress","offset","error","useEffect","Array","isArray","map","item","course_id","video_id","videoTitle","divStyle","CoursesContext","Image","meta","course","undefined","acf","height","throttle","pictogram","DashboardCourseItem","this","title","Component","SubscriptionsList","coursesContext","subscriptions","courses","getCourses","coursesList","setCoursesList","cursussen","coursesOBJ","courseID","found","find","UsersContext","TeacherCourses","length","Dashboard","first_name","last_name","document","ROOT","getElementById","CHECKOUT","checkout","RESOURCE_URL","connection","API_URL","LOGIN_URL","Index","isLoggedIn","checkRegistration","msg","status","onSubmit","data","FormData","htmlFor","required","type","value","state","action","payload","loading","currentProgressID","currentProgress","currentMeta","JSON","parse","perc_viewed","ProgressState","headers","newMeta","time","actions","timestamp","session","localStorage","getItem","token","useReducer","ProgressReducer","currentVideo","videoList","currentIndex","currentCourse","dispatch","checkedForErrors","a","path","fetch","res","json","jsonRes","startVideoProgress","videoPost","user_id","post","post_title","method","body","ID","stringify","response","resJson","updateVideoProgress","videoObject","percent","Provider","cleanUpProgress","updateMeta","children","UsersReducer","users","groupError","userGroupData","groups","currentUser","currentGroup","filtered","filter","regex","RegExp","firstname","match","lastname","role","UsersState","edituser","getAllUsers","results","registerUser","getUserProfile","getGroups","getGroup","addNewGroup","uID","addNewUserToGroup","gID","removeUserFromGroup","filterUsers","text","filterTeachers","checked","clearFilter","deleteUserProfile","CoursesReducer","currentVideoID","chapters","videoId","videoListItems","chapter","video","currentCourseID","courseId","CoursesState","setLoading","setItem","getCourse","getVideo","findVideo","videoID","Object","values","setCurrentVideo","currentvid","AuthReducer","registration","userobject","subscriptionmeta","currentSubscription","removeItem","userData","subs","AuthState","initialState","success","loadAdmin","url","userRes","clear","Coursedetail","params","product","Number","metaData","aantal_videos","totale_tijdsduur","videolink","dangerouslySetInnerHTML","__html","info","HotVideoPlayer","vimeoID","autoplay","start","onLoaded","handleOnLoaded","onError","handleError","onPlay","handlePlayerPlay","onTimeUpdate","handlePlayerUpdate","onEnd","handleEnd","onSeeked","handleSeeked","onPause","pauseThePlayer","VideoDetail","size","minuten","seconden","lines","transcriptie","replace","split","output","forEach","line","test","generateMeta","VideoFooter","Linker","link","post_id","ListItem","werkmateriaal","material","href","rel","ListItems","chapterList","list","term_id","werk_materiaal","toString","PlayerContainer","setPaused","setTime","setActions","ticker","setTicker","toggleList","setToggleList","setStart","setTotalTime","autoPlay","setAutoPlay","showPopUp","setShowPopUp","popupContent","setPopupContent","startVideo","playNext","currID","nextID","findIndex","videoPath","history","showNextPopup","left","ap","string","stringToBoolean","vID","duration","seconds","actionObj","obj","thePopUp","classList","remove","currentTarget","add","onChange","LoggedIn","NotLoggedIn","userError","errorMsg","code","message","Login","AllListItem","groupList","group","status_name","subscription","active","display_name","UsersFilter","usersContext","useRef","filterTeacher","current","ref","placeholder","onFocus","UsersList","isOpen","setIsOpen","getNextPage","ugroup","grs","grp","group_id","NewUserForm","showlist","firstName","setFirstName","lastName","setLastName","setCode","email","setEmail","userGroup","setUserGroup","setChecked","chars","pass","x","floor","random","charAt","password","setPassword","hidden","onChangeHandler","val","teacherPart","multiple","Users","defaultChecked","showUserProfile","AdminCoursesSelect","handleChange","addToCourses","Fragment","NewGroup","groupname","setGroupname","description","setDescription","setCourses","formData","cols","rows","includeList","indexOf","splice","newCourses","GroupsTableRow","toLowerCase","GroupTable","textStyle","GroupItem","setUsers","showGroupMembers","foundCourses","inputCourses","allCourse","findCourses","total_users","courseText","count","descriptionText","listShow","disabled","AllGroups","groupItems","AddToGroup","setGroup","userGroups","uGroup","backgroundColor","padding","ActiveSubscriptionsRowItem","element","factuurnummer","ViewedList","el","WebkitTransition","msTransition","last_viewed","Modal","onClose","window","confirm","userid","groupid","groupNames","data-id","emailDocent","inschrijvingenStudent","stopPropagation","setIcon","Administratie","downloadProgress","iconStyle","showCourses","setShowCourses","Groups","coursesgroup","allCourses","basename","domain","App","exact","component","root","portal","port","ReactDOM","render"],"mappings":"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","file":"static/js/main.e0b4be0b.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\n\r\nexport default AuthContext;","import React from 'react'\r\n\r\n\r\nexport default () => {\r\n  \r\n    return (\r\n      <div>\r\n        <img className=\"logo-image\" src=\"/static/media/Media_campus.png\" alt=\"Logo\" style={{ width: '10rem', margin: ' .75rem 0', display : 'inline-block', 'left' : '10%'}} />\r\n      </div>\r\n    )\r\n \r\n}\r\n","import React, {   useContext } from 'react';\r\nimport MaterialIcon from 'material-icons-react';\r\n\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\n\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport Logo from './Logo';\r\n\r\n\r\nconst Navbar = props => {\r\n\r\n  //UseContext\r\n  const authContext = useContext(AuthContext);\r\n  const { isAuthenticated, user, logOut } = authContext;\r\n\r\n\r\n  // Logout ClickHandler\r\n  const onLogoutClick = (e) => {\r\n    e.preventDefault();\r\n    logOut();\r\n   return <Redirect to='/'/>\r\n  }\r\n\r\n  // is USer Logged In?\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <nav className=\"course-header sticky\" id=\"course-navbar\">\r\n        <NavLink to=\"/\" style={{ 'left': '10%' }}>{<Logo />}</NavLink>\r\n      </nav>\r\n    )\r\n  } else { // Is Logged In....\r\n    switch (user.roles) {\r\n      case \"instelling\":\r\n        return (\r\n          <nav className=\"course-header sticky\" id=\"course-navbar\">\r\n            <NavLink to=\"/administratie\" style={{ 'left': '10%' }}>{<Logo />}</NavLink>\r\n            <section>\r\n              <NavLink to=\"/administratie\" className=\"btn\"> <MaterialIcon icon=\"verified_user\" color=\"#white\" /> Administratie</NavLink>\r\n              <NavLink to=\"/groepsbeheer\" className=\"btn\"> <MaterialIcon icon=\"group\" color=\"white\" /> Groepsbeheer</NavLink>\r\n              <NavLink to=\"/login\" className=\"btn\"> <MaterialIcon icon=\"account_circle\" color=\"white\" />\r\n                <span className=\"username\" >{user.name}</span></NavLink>\r\n            </section>\r\n          </nav>\r\n        )\r\n      //  break;\r\n      case \"docent\":\r\n        return (\r\n          <nav className=\"course-header sticky\" id=\"course-navbar\">\r\n            <NavLink to=\"/\" style={{ 'left': '10%' }}>{<Logo />}</NavLink>\r\n            <section className=\"navbar-right\">\r\n              <NavLink to=\"/groepsbeheer\" className=\"btn\"> <MaterialIcon icon=\"verified_user\" color=\"white\" /> Groepsbeheer</NavLink>\r\n              <button className=\"btn\" onClick={onLogoutClick}>Afmelden </button>\r\n            </section>\r\n          </nav>\r\n        )\r\n      default:\r\n        return (\r\n          <nav className=\"course-header sticky\" id=\"course-navbar\">\r\n            <NavLink to=\"/\" style={{ 'left': '10%' }}>{<Logo />}</NavLink>\r\n            <section className=\"navbar-right\">\r\n              <button className=\"btn\" onClick={onLogoutClick} >Afmelden </button>\r\n            </section>\r\n         </nav>\r\n        )\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default Navbar;\r\n","import { createContext } from 'react';\r\n\r\nconst ProgressContext = createContext();\r\n\r\n\r\nexport default ProgressContext;","import React from 'react'\r\nexport default () => {\r\n  \r\n    return (\r\n      <div className=\"loader\">\r\n        <div className=\"dot\"></div>\r\n        <div className=\"dot\"></div>\r\n        <div className=\"dot\"></div>\r\n        <div className=\"dot\"></div>\r\n        <div className=\"dot\"></div>\r\n        \r\n      </div>\r\n    )\r\n \r\n}\r\n","import React , { useState } from 'react'\r\nimport Spinner from '../layout/Spinner';\r\n\r\nconst Pagination = props => {\r\n\r\n  const [ index , setIndex ] = useState(0);\r\n  \r\n  const { total ,  limit  } = props.controller;\r\n  const onTop = props.onTop;\r\n  const onClick = ( e ) => {\r\n    console.log(e.target.dataset.index)\r\n    setIndex( e.target.dataset.index );\r\n    props.getNewProgress( e.target.dataset.index );\r\n  }\r\n    if( limit < total ){\r\n      const pages = Math.ceil(total / limit );\r\n      let btns=[];\r\n      let max = limit;\r\n      if (  parseInt((index * limit ))+max  > total ) {\r\n        max = total;\r\n      } else {\r\n        max = parseInt(index * limit) + max;\r\n      }\r\n     for( let i=0 ; i< pages; i++){\r\n      let name= \"btn\";\r\n       if( i === parseInt(index) ){\r\n        name= \"btn active\";\r\n       }\r\n\r\n      btns.push(<li className={name} key={i} data-index ={i} onClick={ onClick }>{i+1}</li>);\r\n     }\r\n      return (\r\n        <div className=\"viewedlist-nav\">\r\n          { onTop ?  <span className=\"small-nav\">Toont { parseInt(index * limit )+1 } t/m { max  } van {total} </span> : null }\r\n          <ol className=\"viewedlist-list\">\r\n          {btns}\r\n          </ol>\r\n         { onTop ? null : <span className=\"small-nav\">Toont { parseInt(index * limit )+1 } t/m { max  } van {total} </span>}\r\n        </div>\r\n      )\r\n    } else {\r\n      return <Spinner />;\r\n    }\r\n \r\n}\r\nexport default Pagination;","import React, { useContext, useEffect, Fragment } from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport ProgressContext from '../../../context/progress/progressContext';\r\nimport AuthContext from '../../../context/auth/authContext';\r\n// import CoursesContext from '../../../context/courses/coursesContext';\r\nimport Pagination from '../../administration/Pagination';\r\nimport Spinner from '../../layout/Spinner';\r\n\r\nconst ProgressList = props => {\r\n\r\n  const progressContext = useContext(ProgressContext);\r\n  const authContext = useContext(AuthContext);\r\n  // const coursesContext = useContext(CoursesContext);\r\n\r\n  const { getProgress ,progress, total ,offset , error} = progressContext;\r\n  const { user, isAuthenticated } = authContext;\r\n  // const { courses, getCourses } = coursesContext;\r\n\r\n  let limit = 10;\r\n  \r\n  // ComponentDidMount\r\n  useEffect(() => {\r\n    getProgress(user.id, 10, 0);\r\n    //getCourses();\r\n    // eslint-disable-next-line\r\n  }, [isAuthenticated ]);\r\n  \r\n  // const findIndex = ( id ,list ) => { \r\n  //   for ( let index in list ) { \r\n  //     if (parseInt(list[index].id) === parseInt(id)) { return list[index] }\r\n  //   };\r\n  //     return 0;\r\n  // }\r\n\r\n  const getNewProgress = e => {\r\n    console.log(e);\r\n    getProgress(user.id, 10, e );\r\n  }\r\n  const controller = {\r\n    total: total,\r\n    limit: limit,\r\n    offset : offset\r\n  }\r\n\r\n  console.log(progress)\r\n  if (progress ) {\r\n    if (Array.isArray(progress)) {\r\n      return (\r\n        <Fragment>\r\n        <ol>\r\n          {      \r\n            progress.map(\r\n            item => {\r\n              const {  course_id, video_id, videoTitle } = item;\r\n              // const courseObj = findIndex(course_id, courses);\r\n              // const icon = `/media/img/${courseObj.acf.software[0].slug}.png`; \r\n              const viewed = '100%';\r\n              // const viewed = perc_viewed+'%';\r\n              let divStyle = {\r\n                color: 'white',\r\n                width : viewed\r\n              };\r\n              return(\r\n                <li key={video_id} className=\"dashboard__link\" >\r\n                  <Link to={`/video/${course_id}/${video_id}`} >\r\n                    <span></span>\r\n                    {/* <img className=\"icon\" src={icon} alt={`${courseObj.name} pictogram`} ></img> */}\r\n                    <span className=\"dashboard__link-title\">{videoTitle}</span>\r\n                    {/* {course_id} {} {perc_viewed}% */}\r\n                    <div className=\"progress-bar\"><div className=\"bar\" style={divStyle}></div>></div>\r\n                  </Link>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n          </ol>\r\n          { total > limit ? <Pagination controller={controller} getNewProgress={getNewProgress} /> : null }\r\n          </Fragment>\r\n      )\r\n    } else {\r\n      return (\r\n        <section className=\"card\" ><h3>{progress}</h3></section>\r\n      )\r\n    }\r\n  } else if (error !== null) {\r\n    return  <h2>Er is iets misgegaan</h2>\r\n  } else {\r\n    return <Spinner />\r\n  }\r\n}\r\n\r\nexport default ProgressList\r\n","import { createContext } from 'react';\r\n\r\nconst CoursesContext = createContext();\r\n\r\n\r\nexport default CoursesContext;","import React from 'react';\r\n// import { CSSTransitionGroup } from 'react-transition-group' // ES6\r\nimport Spinner from './Spinner';\r\nimport LazyLoad from 'react-lazyload';\r\n// import uuid from 'uuid'\r\nfunction Image(props) {\r\n\r\n  const meta = props.course;\r\n  \r\n  if( meta.acf === undefined ){\r\n    return <Spinner />\r\n  } else {\r\n    return (\r\n      <figure>\r\n        <LazyLoad height={300}  throttle={200}  >\r\n          <img src={ meta.acf.pictogram } alt={meta.name} className=\"course__image\"/>\r\n        </LazyLoad>\r\n      </figure>\r\n    )\r\n  }\r\n}\r\nexport default Image;","import React, { Component } from 'react';\r\n// import MaterialIcon from 'material-icons-react';\r\nimport { Link } from \"react-router-dom\";\r\nimport Image from '../layout/Image';\r\n\r\nexport default class DashboardCourseItem extends Component {\r\n\r\n\r\n  render() {\r\n\r\n    const course = this.props.course;\r\n    \r\n    if( course ) { \r\n      // console.log(course.slug)\r\n      return (\r\n        <Link to={`video/`+course.id+\"/\"+course.acf['video-link']} className=\"dashboard__course-link\" title={`Ga naar ${course.name}`}>\r\n        <article className=\"dashboard__grid-item\" id={ course.id } >\r\n        <header className=\"thumb-header\"><h5>{ course.name}</h5> </header>\r\n        <Image course={course } />\r\n       \r\n      </article>\r\n      </Link>\r\n      )\r\n    } else {\r\n      return ( <span>Laden...</span>)\r\n    }\r\n   \r\n  }\r\n}\r\n","import React , { useContext , useEffect , useState } from 'react';\r\nimport AuthContext from '../../../context/auth/authContext';\r\nimport CoursesContext from '../../../context/courses/coursesContext';\r\nimport DashboardCourseItem from '../DashboardCourseItem';\r\n\r\nconst SubscriptionsList = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const coursesContext = useContext(CoursesContext);\r\n\r\n  const { subscriptions } = authContext;\r\n  const { courses, getCourses } = coursesContext;\r\n  \r\n  // const [subscriptionList, setSubscriptionList] = useState({});\r\n  const [coursesList, setCoursesList] = useState([]);\r\n  // let subs = [];\r\n\r\n  useEffect( () => {\r\n    const total = parseInt(subscriptions.cursussen);\r\n    if (!courses ) {\r\n      getCourses();\r\n    } else {\r\n      let coursesOBJ = [];\r\n      for (let i = 0; i < total; i++) {\r\n        const courseID = parseInt(subscriptions[\"cursussen_\" + i + \"_cursus_id\"]);\r\n        const found = courses.find(course => {\r\n          return course.id === courseID;\r\n        });\r\n        coursesOBJ.push(found);\r\n      }\r\n      setCoursesList(coursesOBJ);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [courses , subscriptions]);\r\n\r\n\r\n  return (\r\n    <section className=\"course__grid\">\r\n      { coursesList.map((course, id) => {\r\n        return <DashboardCourseItem course={course} key={id} />\r\n      })\r\n      }\r\n    </section>\r\n  )\r\n}\r\nexport default SubscriptionsList;\r\n\r\n","import { createContext } from 'react';\r\n\r\nconst UsersContext = createContext();\r\n\r\n\r\nexport default UsersContext;","import React , { useContext, useEffect } from 'react';\r\nimport UsersContext from '../../../context/users/usersContext';\r\nimport AuthContext from '../../../context/auth/authContext';\r\nimport CoursesContext from '../../../context/courses/coursesContext';\r\n\r\nimport DashboardCourseItem from '../DashboardCourseItem';\r\n\r\nconst TeacherCourses = () => {\r\n\r\n // context\r\n  const usersContext = useContext(UsersContext);\r\n  const authContext = useContext(AuthContext);\r\n  const coursesContext = useContext(CoursesContext);\r\n  const { courses , getCourses } = coursesContext;\r\n\r\n  const { user } = authContext;\r\n\r\n\r\n  // useEffect\r\n  useEffect(() => {\r\n    if (courses === null)\r\n      getCourses();\r\n    // eslint-disable-next-line\r\n  }, [courses]);\r\n\r\n\r\n  let coursesList = [];\r\n    \r\n  if ( courses && courses.length > 0) {\r\n    courses.map( (course , id)  => {\r\n      coursesList.push(<DashboardCourseItem course={course} key={id} />);\r\n      return true;\r\n   })\r\n }\r\n\r\n  return (\r\n     <section className=\"course__grid\" >   \r\n      { coursesList}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default TeacherCourses\r\n","import React, { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport './Dashboard.css';\r\nimport ProgressList from './elements/ProgressList';\r\n\r\nimport SubscriptionsList from './elements/SubscriptionsList';\r\nimport TeacherSubscribedCourses from './elements/TeacherSubscribedCourses';\r\nimport TeacherCourses from './elements/TeacherCourses';\r\n\r\nimport Spinner from '../layout/Spinner';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\n// Dashboard\r\nconst Dashboard = props => {\r\n\r\n  // Use Context\r\n  const authContext = useContext(AuthContext);\r\n  const { user  } = authContext;\r\n\r\n  if( user ){\r\n  \r\n    const { id, first_name, last_name, roles, name } = user;\r\n    if (roles === \"instelling\") {\r\n       return <Redirect to='/administratie' />\r\n    } else if (roles === \"student\") {\r\n      document.title = `Dashboard van ${first_name} ${last_name}`;\r\n    } else if (roles === 'docent') {\r\n      document.title = `Dashboard van docent ${name} `;\r\n    }\r\n    \r\n    return (\r\n      <main className=\"container\">\r\n        <section className=\"dashboard\">\r\n          <header className=\"card-header\" id={`user_${ id }`}><h2>Dashboard van {first_name} {last_name} </h2></header>\r\n          <section className=\"dashboard__content\">\r\n            <article className=\"dashboard__content-panel\">\r\n              <header className=\"course__header\"><h4>Recent bekeken:</h4></header>\r\n              <section className=\"course__list_view\">\r\n                  <ProgressList />\r\n              </section>\r\n            </article>\r\n            <article className=\"dashboard__content-panel\">\r\n              <header className=\"course__header\"><h4>Uw cursussen:</h4></header>\r\n                { user.roles === \"student\" ? <SubscriptionsList /> : <TeacherCourses /> }\r\n            </article>\r\n          </section>\r\n        </section>\r\n      </main>\r\n    )\r\n    } else {\r\n    return( \r\n      <main className=\"container\">\r\n      <Spinner />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Dashboard;\r\n","// general constants\r\nexport const ROOT               = document.getElementById('root')\r\nexport const CHECKOUT           = ROOT.dataset.checkout;\r\nexport const RESOURCE_URL       = ROOT.dataset.connection;\r\nexport const API_URL            = 'https://house-of-training.nl/wp-json/wp/v2/';\r\nexport const SITE_TITLE         = 'House of Training';\r\n\r\n// user Constants\r\nexport const GET_GROUPS         = 'GET_GROUPS';\r\nexport const GET_GROUP         = 'GET_GROUP';\r\nexport const GET_USERS          = 'GET_USERS';\r\nexport const REGISTER_USER      = 'REGISTER_USER';\r\nexport const REGISTER_FAIL      = 'REGISTER_FAIL';\r\nexport const REGISTER_SUCCESS   = 'REGISTER_SUCCESS';\r\nexport const GET_USER_PROFILE   = 'GET_USER_PROFILE';\r\nexport const DELETE_USER_PROFILE   = 'DELETE_USER_PROFILE';\r\nexport const ADD_NEW_GROUP      = 'ADD_NEW_GROUP';\r\nexport const ADD_NEW_USER_TO_GROUP = 'ADD_NEW_USER_TO_GROUP';\r\nexport const DELETE_USER_FROM_GROUP = 'DELETE_USER_FROM_GROUP';\r\nexport const SET_LOADING        = 'SET_LOADING';\r\nexport const CLEAR_FILTER       = 'CLEAR_FILTER'\r\nexport const FILTER_USERS       = 'FILTER_USERS'\r\nexport const FILTER_TEACHERS       = 'FILTER_TEACHERS'\r\nexport const GROUP_ERROR       = 'GROUP_ERROR'\r\nexport const USERS_ERROR       = 'USERS_ERROR'\r\n\r\n// Auth Constants\r\nexport const LOGIN_URL          = RESOURCE_URL+'/wp-json/simple-jwt-authentication/v1/token';\r\nexport const USER_LOADED        = 'USER_LOADED';\r\nexport const ADMIN_LOADED       = 'ADMIN_LOADED';\r\nexport const AUTH_ERROR         = 'AUTH_ERROR';\r\nexport const LOGIN_SUCCESS      = 'LOGIN_SUCCESS';\r\nexport const LOGIN_ERROR        = 'LOGIN_ERROR';\r\nexport const NOT_LOGGED_IN      = 'NOT_LOGGED_IN';\r\nexport const WAS_LOGGED_IN      = 'WAS_LOGGED_IN';\r\nexport const ADMIN_WAS_LOGGED_IN    = 'ADMIN_WAS_LOGGED_IN';\r\nexport const LOGIN_FAIL         = 'LOGIN_FAIL';\r\nexport const LOGOUT             = 'LOGOUT';\r\nexport const CLEAR_ERRORS       = 'CLEAR_ERRORS';\r\n\r\n// Progress Constants\r\nexport const GET_PROGRESS = 'GET_PROGRESS';\r\nexport const SET_PROGRESS       = 'SET_PROGRESS';\r\nexport const START_PROGRESS = 'START_PROGRESS';\r\nexport const UPDATE_PROGRESS = 'UPDATE_PROGRESS';\r\nexport const UPDATE_META = 'UPDATE_META';\r\nexport const CLEANUP_PROGRESS = 'CLEANUP_PROGRESS';\r\nexport const UPDATE_PERC = 'UPDATE_PERC';\r\nexport const SET_CURRENT_COURSE = 'SET_CURRENT_COURSE';\r\nexport const PROGRESS_ERROR = 'PROGRESS_ERROR';\r\n\r\n// Courses Constants\r\nexport const GET_COURSES        = 'GET_COURSES';\r\nexport const SET_COURSE         = 'SET_COURSE';\r\nexport const GET_VIDEO = 'GET_VIDEO';\r\nexport const SET_CURRENT_VIDEO = 'SET_CURRENT_VIDEO';","import React, { useContext ,useEffect  } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Dashboard from '../dashboard/Dashboard';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport { CHECKOUT } from '../../context/types';\r\n\r\nconst Index = props => {\r\n\r\n  const authContext = useContext(AuthContext);\r\n\r\n  // Pull out variables from authContext\r\n  const { user, isAuthenticated, isLoggedIn, checkRegistration, error } = authContext;\r\n  \r\n\r\n  // ComponentDidMount:\r\n  useEffect(() => {\r\n    //check user is logged in....\r\n    isLoggedIn();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  \r\n  // Send registrationCode to the Backend\r\n  const sendRegistration = (e) =>{\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    checkRegistration(data);\r\n  }\r\n  // Is the user Authenticated?\r\n  if(  !isAuthenticated ){\r\n    // const backgroundStyle = { backgroundImage: \"url('http://api2.house-of-training.nl/demo/wp-content/uploads/sites/8/2019/05/intro.jpg')\" };\r\n    let msg = '';\r\n    if( error){\r\n      msg = <div className=\"message error\">{ error.status }</div>\r\n    }\r\n      return (\r\n        <div className=\"login__window\">\r\n          <section className=\"form\">\r\n            <header className=\"card-header\"><h2>Voer registratie code in</h2></header>\r\n            <article className=\"sub-header\">\r\n              <p>Om toegang te krijgen tot deze site is een registratie code vereist.</p>\r\n            </article>\r\n            <form onSubmit={ sendRegistration } >          \r\n              <section className=\"form__item\" >\r\n                <label htmlFor=\"code\">Registratiecode</label>\r\n                <input id=\"code\" name=\"code\" required type=\"text\" />\r\n              </section>\r\n              <p>Deze Code heeft u verkregen van uw instelling, en is persoonlijk.</p>\r\n              {msg}\r\n              <section className=\"form__item\" >\r\n                <button className=\"btn\" >Inloggen</button>\r\n                <input type=\"hidden\" name=\"action\" value=\"checkRegistration\"></input>\r\n                <input type=\"hidden\" name=\"nonce\" value={ CHECKOUT }></input>\r\n              </section>\r\n          </form>\r\n          <Link to=\"/login\" className=\"btn btn-login\">Login voor Instelling</Link>\r\n          </section>\r\n        </div>\r\n      )\r\n    } else {\r\n      if (user.roles && user.roles[0] === 'instelling') {\r\n        return <Redirect to='/administratie' />\r\n      } else {\r\n        return <Dashboard  />\r\n      }\r\n    }\r\n  \r\n}\r\n// Index.contextType = Context;\r\nexport default Index;","import { GET_PROGRESS , UPDATE_PROGRESS, UPDATE_META, CLEANUP_PROGRESS, START_PROGRESS , PROGRESS_ERROR } from '../types';\r\n\r\nexport default (state, action) => {\r\n  \r\n  switch (action.type) {\r\n    case GET_PROGRESS:\r\n      let data = action.payload.data;\r\n      if (action.payload.total === 0) {\r\n        data = \"Nog geen Video's bekeken, selecteer een Cursus uit het rechterKolom en start Nu!\";\r\n      }\r\n      return {\r\n        ...state,\r\n        progress: data,\r\n        total: action.payload.total,\r\n        offset : action.payload.offset,\r\n        loading : false\r\n      }\r\n    case START_PROGRESS: \r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        currentProgressID: parseInt(action.payload.id),\r\n        currentProgress: action.payload,\r\n        currentMeta: JSON.parse( action.payload.meta ),\r\n        perc_viewed : action.payload.perc_viewed\r\n      }\r\n    case UPDATE_PROGRESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        perc_viewed : action.payload\r\n      }\r\n    case CLEANUP_PROGRESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        progress : null\r\n      }\r\n    case PROGRESS_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error : action.payload\r\n      }\r\n    case UPDATE_META:\r\n      return {\r\n        ...state,\r\n        currentMeta : action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import React, { useReducer } from 'react';\r\n\r\nimport ProgressContext from './progressContext';\r\nimport ProgressReducer from './progressReducer';\r\nimport { GET_PROGRESS ,UPDATE_META, CLEANUP_PROGRESS, PROGRESS_ERROR, START_PROGRESS , RESOURCE_URL, UPDATE_PROGRESS } from '../types';\r\n\r\n\r\nconst ProgressState = props => {\r\n  \r\n  const newMeta  = {\r\n    time: { \"seconds\": 0, \"percent\": 0, \"duration\": 0 },\r\n    actions : [{ type:'Start', timestamp: 0, data:\"Video Monitor gestart\" }]\r\n  };\r\n  const currentMeta = newMeta;\r\n\r\n  //Set State\r\n  const initialState = {\r\n    progress: null,\r\n    loading: true,\r\n    currentVideo: null,\r\n    videoList : [],\r\n    courseID: null,\r\n    currentIndex: 0,\r\n    currentProgressID: 0,\r\n    currentProgress: null,\r\n    currentMeta: [],\r\n    perc_viewed: 0,\r\n    currentCourse: null,\r\n    total: 0,\r\n    offset: 0,\r\n    error : null\r\n  }\r\n\r\n  // Constants used throughout\r\n\r\n  const session = JSON.parse(localStorage.getItem('session'));\r\n  let headers;\r\n\r\n  if( session )\r\n   headers = { headers: { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' + session.token } };\r\n\r\n  // Connect to Reducer\r\n  const [state, dispatch] = useReducer(ProgressReducer, initialState);\r\n  \r\n  const checkedForErrors = data => {\r\n    if (data.data) {\r\n      return ( ( data.data.status===404 && data.data.status === 403 ) ? false: true );\r\n    }\r\n    return true;    \r\n  }\r\n\r\n // Get Progress\r\n  const getProgress = async (id, limit = 25, offset = 0) => {\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    if (session) {\r\n      headers = { headers: { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' + session.token } };\r\n      const path = `${RESOURCE_URL}/wp-json/hot/v2/progress/user/${id}?limit=${limit}&offset=${offset}`;\r\n      const res = await fetch(path, headers);\r\n      const jsonRes = await res.json();\r\n      console.log(jsonRes)\r\n      if ( checkedForErrors( jsonRes ) && jsonRes.data.status !== 403 ) {\r\n        dispatch( { type : GET_PROGRESS , payload : jsonRes })\r\n      } else {\r\n        dispatch({ type: PROGRESS_ERROR, payload: jsonRes });\r\n      }\r\n    }\r\n  }\r\n  \r\n// clean up Progress\r\n  const cleanUpProgress = () => {\r\n    dispatch({ type: CLEANUP_PROGRESS });\r\n  }\r\n\r\n\r\n  // Progress started when new video is requested\r\n  const startVideoProgress = async (videoPost, user_id, course_id) => {\r\n    // console.log(videoPost)\r\n    if( videoPost && videoPost.post ){\r\n      const title = videoPost.post.post_title;\r\n      document.title = title;\r\n      const path = `${RESOURCE_URL}/wp-json/hot/v2/progress/${user_id}`;\r\n      const response = await fetch( path, {\r\n          method      : 'POST',\r\n          headers     : { 'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'authorization': 'Bearer ' +  session.token },\r\n        body: 'user_id=' + user_id + '&title=' + videoPost.post.post_title + '&course_id=' + course_id + '&video_id=' + videoPost.post.ID + '&meta=' + JSON.stringify( newMeta ) \r\n      })\r\n      const resJson = await response.json();\r\n      if (resJson.data) {\r\n        dispatch({ type : START_PROGRESS , payload : resJson.data });\r\n      } else {\r\n        dispatch({type: PROGRESS_ERROR, payload: resJson});\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  // Called by timer in Player\r\n  const updateVideoProgress = async (videoObject, user_id) => {\r\n    let perc_viewed = parseInt(videoObject.time.percent * 100);\r\n\r\n      let data = JSON.stringify(videoObject);\r\n      const token = session.token;\r\n      const path = `${RESOURCE_URL}/wp-json/hot/v2/progress/${user_id}`;\r\n     await fetch( path, {\r\n         method       : 'POST',\r\n         headers      : { 'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'authorization': 'Bearer ' +  token },\r\n        body: 'update=' + state.currentProgressID + '&meta=' + data + '&perc_viewed=' + perc_viewed\r\n      })\r\n        // const  resJson = await result.json()\r\n        dispatch( { type : UPDATE_PROGRESS , payload : perc_viewed })\r\n        // dispatch( { type : UPDATE_PERC , payload : perc_viewed })\r\n        \r\n  }\r\n  // Update Meta called by any interaction of Player\r\n  const updateMeta = data => {\r\n    console.log(\"Update Meta\")\r\n    dispatch({ type: UPDATE_META, payload: data });\r\n\r\n  }\r\n  \r\n  return (\r\n    <ProgressContext.Provider\r\n      value={{\r\n        progress: state.progress,\r\n        loading: state.loading,\r\n        perc_viewed: state.perc_viewed,\r\n        error : state.error,\r\n        getProgress,\r\n        updateVideoProgress,\r\n        startVideoProgress,\r\n        currentMeta,\r\n        cleanUpProgress,\r\n        updateMeta,\r\n        total: state.total,\r\n        offset : state.offset ,\r\n        currentProgressID: state.currentProgressID\r\n      }} >\r\n    {props.children}\r\n    </ProgressContext.Provider>)\r\n};\r\n\r\n\r\nexport default ProgressState;","import { GET_GROUPS, GET_GROUP , SET_LOADING, GET_USERS , CLEAR_FILTER, FILTER_USERS, FILTER_TEACHERS, ADD_NEW_USER_TO_GROUP, GET_USER_PROFILE, DELETE_USER_PROFILE, REGISTER_USER, ADD_NEW_GROUP, GROUP_ERROR, DELETE_USER_FROM_GROUP } from '../types';\r\n\r\n\r\nconst UsersReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.users,\r\n        total : action.payload.total,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case GET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        userGroupData: action.payload.groups,\r\n        currentUser: action.payload.user,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case ADD_NEW_USER_TO_GROUP:\r\n      const groups = action.payload.data;\r\n      return {\r\n        ...state,\r\n        groups: groups,\r\n        loading: false,\r\n        groupError:  null\r\n      }\r\n    case DELETE_USER_FROM_GROUP:\r\n      console.log(action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        groupError : null\r\n      }\r\n    case DELETE_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        currentUser: null,\r\n        userGroupData: null,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case REGISTER_USER:\r\n      return {\r\n        ...state,\r\n        users: action.payload,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case GET_GROUPS:\r\n      return {\r\n        ...state,\r\n        groups: action.payload,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case GET_GROUP:\r\n      return {\r\n        ...state,\r\n        currentGroup: action.payload,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case ADD_NEW_GROUP:\r\n      return {\r\n        ...state,\r\n        groups: action.payload,\r\n        loading: false,\r\n        groupError: null\r\n      }\r\n    case SET_LOADING:\r\n        return {\r\n          ...state,\r\n          users:[],\r\n          loading: true,\r\n          groupError: null\r\n      }\r\n    case FILTER_USERS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        filtered: state.users.filter(user => {\r\n          const regex = new RegExp(`${action.payload}`, 'gi');\r\n          return user.firstname.match( regex) || user.lastname.match(regex)\r\n        }),\r\n        groupError : null\r\n      }\r\n    case FILTER_TEACHERS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        filtered: state.users.filter(user => {\r\n          console.log(user.role , action.payload);\r\n          if (action.payload === true) {\r\n            return user.role === 'docent';\r\n          }\r\n          return null;\r\n        })\r\n      }\r\n    case CLEAR_FILTER:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        filtered: null,\r\n        groupError: null\r\n      }\r\n    case GROUP_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        groupError: action.payload,\r\n        currentGroup : null\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default UsersReducer;","import React, { useReducer } from 'react';\r\n\r\nimport UsersContext from './usersContext';\r\nimport UsersReducer from './usersReducer';\r\n\r\n\r\n\r\nimport {\r\n  GET_GROUPS,\r\n  GET_GROUP,\r\n  GET_USERS,\r\n  SET_LOADING,\r\n  RESOURCE_URL,\r\n  GET_USER_PROFILE,\r\n  ADD_NEW_GROUP,\r\n  DELETE_USER_PROFILE,\r\n  GROUP_ERROR,\r\n  FILTER_USERS,\r\n  FILTER_TEACHERS,\r\n  CLEAR_FILTER,\r\n  ADD_NEW_USER_TO_GROUP,\r\n  DELETE_USER_FROM_GROUP,\r\n  USERS_ERROR\r\n} from '../types';\r\n\r\n\r\n\r\nconst UsersState = props => {\r\n  const session = JSON.parse(localStorage.getItem('session'));\r\n  let headers = { headers : { 'Content-Type': 'application/json; charset=utf-8' }}\r\n  if ( session && session.length > 0 ) {\r\n    \r\n    headers = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n  }\r\n  // const postHeaders = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n   //Set Loading\r\n\r\n  \r\n  //Set State\r\n  const initialState = {\r\n    currentUser : null,\r\n    users: [],\r\n    edituser: false,\r\n    userGroupData : [],\r\n    groups: null,\r\n    loading: false,\r\n    filtered: null,\r\n    groupError: null,\r\n    total : 0,\r\n    currentGroup : null\r\n  }\r\n\r\n  // Connect to Reducer\r\n  const [state, dispatch] = useReducer(UsersReducer, initialState);\r\n\r\n\r\n  // //Get the Current User\r\n  // const getCurrentUser = () => {\r\n\r\n  // }\r\n\r\n  // Get All Users\r\n  const getAllUsers = async ( limit=100 , offset=0 ) => {\r\n    dispatch({ type : SET_LOADING })\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    const path = `${RESOURCE_URL}/wp-json/hot/v2/students/?limit=${limit}&offset=${offset}`;\r\n    headers = { headers: { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' + session.token } };\r\n   try {\r\n    const results = await fetch(path, headers);\r\n    const jsonRes = await results.json();\r\n    dispatch({\r\n      type: GET_USERS,\r\n      payload: jsonRes\r\n    });\r\n   } catch (error){\r\n      dispatch({\r\n      type: USERS_ERROR,\r\n      payload: error\r\n    });\r\n   }\r\n  }\r\n\r\n\r\n  // register a new user\r\n  const registerUser = async data => {\r\n    console.log(data);\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n  \r\n    const path = `${RESOURCE_URL}/wp-json/hot/v2/students/`;\r\n    const results = await fetch(\r\n      path, {\r\n        method       : 'POST',\r\n        headers      : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token },\r\n        body: JSON.stringify(data)\r\n      }\r\n    );\r\n    await results.json();\r\n    getAllUsers();\r\n  }\r\n\r\n  // get the user Profile\r\n  const getUserProfile = async (user) => {\r\n   \r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    headers = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n    const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/users/${ user.id }`;\r\n    const results = await fetch(path, headers)\r\n    const jsonRes = await results.json();\r\n    console.log(jsonRes);\r\n    jsonRes['user'] = user;\r\n    dispatch({\r\n      type: GET_USER_PROFILE,\r\n      payload :  jsonRes\r\n    })\r\n  }\r\n\r\n  // remove the userProfile ou of memery\r\n  const deleteUserProfile = () => {\r\n    dispatch({ type: DELETE_USER_PROFILE });\r\n  }\r\n\r\n\r\n  // Get Groups\r\n  const getGroups = async () => {\r\n    //setLoading();\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    if ( session ) {\r\n      headers = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n      \r\n      const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/`;\r\n      try {\r\n      const results = await fetch(path , headers )\r\n      const jsonRes = await results.json();\r\n        dispatch({\r\n          type: GET_GROUPS,\r\n          payload: jsonRes.data\r\n        })\r\n      } catch {\r\n        console.log(\"ERROR\")\r\n        dispatch({\r\n          type: GROUP_ERROR,\r\n          payload: \"ERROR\"\r\n        });\r\n      }\r\n      \r\n    }\r\n  }\r\n  // Get Groups\r\n  const getGroup = async ( id ) => {\r\n    //setLoading();\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    if ( session ) {\r\n      headers = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n      \r\n      const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/${id}`;\r\n      try {\r\n      const results = await fetch(path , headers )\r\n      const jsonRes = await results.json();\r\n        dispatch({\r\n          type: GET_GROUP,\r\n          payload: jsonRes.data\r\n        })\r\n      } catch {\r\n        console.log(\"ERROR\")\r\n        dispatch({\r\n          type: GROUP_ERROR,\r\n          payload: \"ERROR\"\r\n        });\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n  // Check for status Errors \r\n  const checkedForErrors = data => {\r\n    if (data.data) {\r\n      return ( ( data.data.status && data.data.status === 403 ) ? false: true );\r\n    }\r\n    return true;    \r\n  }\r\n\r\n  //Create New Group \r\n  const addNewGroup = async (data , uID) => {\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    // const user_id =  this.context.state.userData.id;\r\n    const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/${uID}`;\r\n    const results = await fetch( path, {\r\n      method      : 'POST',\r\n      headers     : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token },\r\n      body: JSON.stringify(data)\r\n    })\r\n    const jsonRes = await results.json();\r\n    console.log(jsonRes)\r\n    dispatch({\r\n      type: ADD_NEW_GROUP,\r\n      payload   : jsonRes.groups.data\r\n    })\r\n     dispatch({ type: SET_LOADING });\r\n  }\r\n\r\n  // Add Teacher to a group\r\n  const addNewUserToGroup = async ( uID , gID ) => {\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/users/${uID}?groupid=${gID}`;\r\n    let data=[];\r\n    // datagroupid = gID;\r\n    const results = await fetch( path, {\r\n      method      : 'POST',\r\n      headers     : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token },\r\n      body: data\r\n    })\r\n    const jsonRes = await results.json();\r\n    dispatch({\r\n      type: ADD_NEW_USER_TO_GROUP,\r\n      payload: jsonRes\r\n    })\r\n  }\r\n\r\n  // remove user from group \r\n  const removeUserFromGroup = async (data ) => {\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    const path = `${RESOURCE_URL}/wp-json/hot/v2/students/`;\r\n    const results = await fetch(\r\n      path, {\r\n        method       : 'POST',\r\n        headers      : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token },\r\n        body: JSON.stringify(data)\r\n      }\r\n    );\r\n    const resJson = await results.json();\r\n    if ( resJson.status !== 403 ) {\r\n      \r\n      dispatch( { type : DELETE_USER_FROM_GROUP , payload: resJson })\r\n    } else {\r\n      dispatch( { type : GROUP_ERROR , payload : resJson.error })\r\n    }\r\n  }\r\n  \r\n  // Filter users  by first or last name\r\n  const filterUsers = text => {\r\n   dispatch( { type: FILTER_USERS , payload : text })\r\n  }\r\n\r\n  // select only Teachers\r\n  const filterTeachers = checked => {\r\n   dispatch( { type: FILTER_TEACHERS , payload : checked })\r\n  }\r\n\r\n  //Clear all Filters\r\n  const clearFilter = () => {\r\n    dispatch( { type: CLEAR_FILTER })\r\n  }\r\n  \r\n  return (\r\n    <UsersContext.Provider\r\n      value={{\r\n        users : state.users,\r\n        groups: state.groups,\r\n        currentGroup: state.currentGroup,\r\n        loading: state.loading,\r\n        userGroupData: state.userGroupData,\r\n        filtered: state.filtered,\r\n        groupError: state.groupError,\r\n        total : state.total,\r\n        filterUsers,\r\n        filterTeachers,\r\n        clearFilter,\r\n        getGroups,\r\n        getGroup,\r\n        addNewGroup,\r\n        addNewUserToGroup,\r\n        getAllUsers,\r\n        registerUser,\r\n        getUserProfile,\r\n        deleteUserProfile,\r\n        removeUserFromGroup,\r\n        currentUser : state.currentUser\r\n      }} >\r\n    {props.children}\r\n    </UsersContext.Provider>\r\n  )\r\n};\r\n\r\n\r\nexport default UsersState;\r\n\r\n\r\n\r\n// getAllGroups = () => {\r\n  \r\n//   const path = `${RESOURCE_URL}/wp-admin/admin-ajax.php?action=getHotGroups&nonce=${checkout}`;\r\n//   fetch( path )\r\n//   .then( response => response.json())\r\n//   .then( json => { this.setState({ groups : json.data.groups}) })\r\n//   .catch( response => { this.setState({ message : \"Er zijn zo te zien nog geen groepen aangemaakt\"}) });\r\n\r\n// }\r\n\r\n\r\n/**\r\n *  get all Groups by API \r\n */\r\n// getAllApiGroups = () => {\r\n//   const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/`;\r\n  \r\n//   const session =  JSON.parse(localStorage.getItem('session'))\r\n//     fetch(path , { \r\n//       method      : 'GET',\r\n//       headers     : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }})\r\n//     .then(res => res.json())\r\n//     .then(json => { this.setState({ groups: json.data }); })\r\n//     .catch(error => { console.log(error) });\r\n// }\r\n\r\n// showUserProfile = ( user ) => {\r\n//   this.setState( { editUser : user });\r\n//   this.setState({ show : !this.state.show });\r\n//   console.log('user :', user);\r\n//   console.log('state :', this.state.show );\r\n//   // const path = `${RESOURCE_URL}/wp-admin/admin-ajax.php?action=getHotUserGroupsById&nonce=${checkout}&id=${ user.ID }`;\r\n//   const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/users/${ user.id }`;\r\n//   const session =  JSON.parse(localStorage.getItem('session'))\r\n//   fetch( path , { \r\n//     headers     : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }} )\r\n//   .then( res => res.json() )\r\n//   .then( json => { this.setState({ userGroupData : json.data.groups}) } )\r\n//   .catch( error => { this.setState({ message : \"Geen data\" }) });\r\n// }\r\n\r\n\r\n  // addNewApiGroup = (data) => {\r\n  //   const session =  JSON.parse(localStorage.getItem('session'));\r\n  //   const user_id =  this.context.state.userData.id;\r\n  //   const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/${user_id}`;\r\n  //   fetch( path, {\r\n  //       method      : 'POST',\r\n  //       headers     : { 'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'authorization': 'Bearer ' +  session.token },\r\n  //       body        : data })\r\n  //       .then( response => response.json() )\r\n  //    //this.getAllGroups();\r\n   \r\n  // }\r\n\r\n  // registerUser = (data) =>{\r\n  //   this.setState({ enabled : false });\r\n  //   const path = `${RESOURCE_URL}/wp-admin/admin-ajax.php`;\r\n  //   fetch(path , { method: 'POST', body: data } )\r\n  //   .then( response => response.json())\r\n  //   .then( json => {\r\n  //     const user = json.data.user;\r\n  //     this.setState({ allUsers: [...this.state.allUsers, user]})\r\n  //     this.setState({ enabled : true });\r\n  //   })\r\n  //   .catch ( error => console.log(\"Error: \", error.json() ))  \r\n  // }\r\n","import { GET_COURSES, SET_LOADING, SET_COURSE, GET_VIDEO, SET_CURRENT_VIDEO } from '../types';\r\n\r\nconst CoursesReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case GET_COURSES:\r\n      return {\r\n        ...state,\r\n        courses: action.payload,\r\n        loading : false\r\n      }\r\n    case SET_LOADING:\r\n        return {\r\n          ...state,\r\n          loading: true\r\n      }\r\n    case GET_VIDEO:\r\n      const { id, currentVideo } = action.payload;\r\n      // console.log(currentVideo)\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        currentVideoID: id,\r\n        currentVideo : currentVideo\r\n      }\r\n    case SET_COURSE:\r\n      let chapters = action.payload.course.chapters;\r\n      const videoId = action.payload.videoId;\r\n      console.log(action.payload);\r\n        let videoListItems = [];\r\n        for ( let chapter in chapters ) {\r\n          const videoList = chapters[chapter].video;\r\n          for (let item in videoList) {\r\n            videoListItems.push(videoList[item]);\r\n          }\r\n        }\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        currentCourse: action.payload.course,\r\n        currentCourseID : action.payload.courseId,\r\n        videoList: videoListItems,\r\n        currentVideoID : videoId\r\n      }\r\n    case SET_CURRENT_VIDEO:\r\n      console.log( 'SET_CURRENT_VIDEO', action.payload )\r\n      return {\r\n        ...state,\r\n        currentVideo: action.payload,\r\n        loading: false,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default CoursesReducer;","import React, { useReducer } from 'react';\r\nimport CoursesReducer from './coursesReducer';\r\nimport CoursesContext from './coursesContext';\r\nimport { API_URL, GET_COURSES , SET_LOADING, SET_COURSE, GET_VIDEO, SET_CURRENT_VIDEO  } from '../types';\r\n\r\n\r\nconst CoursesState = props => {\r\n\r\n  //Set State\r\n  const initialState = {\r\n    courses: null,\r\n    loading: false,\r\n    currentCourse: null,\r\n    currentCourseID : null,\r\n    currentVideo: null,\r\n    currentVideoID: null,\r\n    currentIndex: 0,\r\n    currentMeta: null,\r\n    videoList : null\r\n  }\r\n\r\n    // Connect to Reducer\r\n  const [state, dispatch] = useReducer(CoursesReducer, initialState);\r\n  \r\n  // Get Courses\r\n\r\n  const getCourses = async (data) => {\r\n    if (localStorage && localStorage.getItem('courses')) {\r\n      dispatch({\r\n        type: GET_COURSES,\r\n        payload: JSON.parse( localStorage.getItem('courses'))\r\n      });\r\n    } else {\r\n      setLoading();\r\n      const results = await fetch(API_URL+ 'courses?per_page=100' )\r\n      const jsonRes = await results.json();\r\n      localStorage.setItem('courses', JSON.stringify(jsonRes));\r\n      dispatch({\r\n        type: GET_COURSES,\r\n        payload: jsonRes.data\r\n      });\r\n    }\r\n  }\r\n\r\n  // get single Course from \r\n  const getCourse = async (courseId, videoId) => {\r\n    // console.log('Get Course');\r\n    const results = await fetch(API_URL + 'courses/' + courseId );\r\n    const json = await results.json();\r\n    // console.log( json );\r\n    const obj = { 'course': json, 'courseId': courseId, 'videoId': videoId } ;\r\n    dispatch({ type: SET_COURSE, payload: obj });\r\n  }\r\n\r\n  // get the Video\r\n  const getVideo = async (videoId, currentCourse) => {\r\n    const currentVideo = await findVideo(videoId, currentCourse);\r\n    const videoObj = {\r\n      id: videoId,\r\n      currentVideo : currentVideo\r\n    }\r\n    \r\n    dispatch({ type: GET_VIDEO, payload : videoObj })\r\n  }\r\n\r\n  const setCurrentVideo = currentvid => {\r\n    dispatch({ type: SET_CURRENT_VIDEO, payload: currentvid });\r\n  }\r\n\r\n  const findVideo = ( videoID , currentCourse ) => {\r\n    if (currentCourse) {\r\n      \r\n      // console.log(currentCourse.chapters);\r\n      const chapters = state.currentCourse.chapters;\r\n\r\n      for ( let chapter in chapters ) {\r\n        const videoList =  Object.values(chapters[chapter].video);\r\n        for( let item in videoList ){ \r\n          //videoListItems.push( videoList[item] );\r\n          if (parseInt(videoList[item].post.ID) === parseInt(videoID)) { \r\n            // console.log(videoList[item]);\r\n            return videoList[item]\r\n          };\r\n        }\r\n        \r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n    //this.setState( { videoList : videoListItems });\r\n  }\r\n\r\n  //Set Loading\r\n  const setLoading = () => dispatch( { type: SET_LOADING } );\r\n\r\n  // Return the Element\r\n  return (\r\n    <CoursesContext.Provider\r\n      value={{\r\n        courses: state.courses,\r\n        loading: state.loading,\r\n        currentCourse: state.currentCourse,\r\n        currentVideo: state.currentVideo,\r\n        currentCourseID: state.currentCourseID,\r\n        videoList: state.videoList,\r\n        setCurrentVideo,\r\n        getCourse,\r\n        getVideo,\r\n        getCourses\r\n      }} >\r\n      {props.children}\r\n    </CoursesContext.Provider>\r\n  );\r\n}\r\n\r\nexport default CoursesState;","import {\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCESS,\r\n  WAS_LOGGED_IN,\r\n  NOT_LOGGED_IN,\r\n  LOGIN_FAIL,\r\n  LOGIN_ERROR,\r\n  REGISTER_FAIL,\r\n  CLEAR_ERRORS,\r\n  // REGISTER_USER,\r\n  LOGOUT,\r\n  ADMIN_LOADED\r\n} from '../types';\r\n\r\nconst AuthReducer = (state, action) => {\r\n  let user;\r\n  let session;\r\n  let subscriptions;\r\n  let currentSubscription;\r\n  switch (action.type) {\r\n    case USER_LOADED:\r\n      user = action.payload.registration.userobject;\r\n      session = action.payload.registration.session;\r\n      subscriptions = action.payload.registration.subscriptionmeta;\r\n      // currentSubscription = action.payload.registration.subscription.post_title;\r\n      localStorage.setItem('userData', JSON.stringify(user));\r\n      localStorage.setItem('session', JSON.stringify(session));\r\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\r\n      // localStorage.setItem('currentSubscription', JSON.stringify(currentSubscription));\r\n      //localStorage.setItem( 'userData' , action.payload )\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        user: user,\r\n        subscriptions: subscriptions,\r\n        currentSubscription :currentSubscription,\r\n        error : null\r\n      }\r\n    case ADMIN_LOADED:\r\n      user = action.payload;\r\n      if ( Array.isArray( user.roles )) {\r\n        user.roles = user.roles[0];\r\n      }\r\n      localStorage.setItem('userData', JSON.stringify(user));\r\n     \r\n      // localStorage.setItem('subscriptions', JSON.stringify([]) );\r\n      return {\r\n        ...state,\r\n        isAuthenticated : true,\r\n        user: user,\r\n        subscriptions: null,\r\n        currentSubscription : null,\r\n        loading: false,\r\n        error : null\r\n      }\r\n    case LOGIN_SUCCESS:\r\n      user = action.payload.registration.userobject;\r\n      session = action.payload.registration.session;\r\n      subscriptions = action.payload.registration.subscriptionmeta;\r\n      // currentSubscription = action.payload.registration.subscription.post_title;\r\n      localStorage.setItem('userData', JSON.stringify(user));\r\n      localStorage.setItem('session', JSON.stringify(session));\r\n      localStorage.setItem('subscriptions', JSON.stringify(subscriptions));\r\n      // localStorage.setItem('currentSubscription', JSON.stringify(currentSubscription));\r\n      // console.log( action.payload.registration )\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        user: user,\r\n        subscriptions: subscriptions,\r\n        // currentSubscription : currentSubscription,\r\n        loading: false,\r\n        error : null\r\n      }\r\n    case LOGOUT:\r\n      localStorage.removeItem('userData');\r\n      localStorage.removeItem('session');\r\n      localStorage.removeItem('subscriptions');\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null,\r\n        error: null,\r\n        subscriptions: null,\r\n        currentSubscription : null\r\n      }\r\n    case NOT_LOGGED_IN:\r\n      \r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        error: null,\r\n        user: null,\r\n        subscriptions: null,\r\n        // currentSubscription : null\r\n      }\r\n    case WAS_LOGGED_IN:\r\n      const userData = JSON.parse( localStorage.getItem( 'userData' ) )\r\n      let subs = [];\r\n      if (localStorage.getItem(\"subscriptions\") !== null) {\r\n        subs = JSON.parse(localStorage.getItem('subscriptions'));\r\n      }\r\n        return { \r\n          ...state,\r\n          isAuthenticated: true,\r\n          loading: false,\r\n          error: null,\r\n          user: userData,\r\n          subscriptions: subs,\r\n          // currentSubscription : null\r\n        }\r\n    case LOGIN_FAIL:\r\n    case LOGIN_ERROR:\r\n    case AUTH_ERROR:\r\n    case REGISTER_FAIL:\r\n      localStorage.removeItem('session');\r\n      localStorage.removeItem('userData');\r\n      localStorage.removeItem('subscriptions');\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        error: action.payload,\r\n        user: null,\r\n        subscriptions: null,\r\n        // currentSubscription : null\r\n      }\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        error: null\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default AuthReducer;","import React, { useReducer  } from 'react';\r\nimport AuthReducer from './authReducer';\r\nimport AuthContext from './authContext';\r\nimport {\r\n  USER_LOADED,\r\n  LOGIN_URL,\r\n  ADMIN_LOADED,\r\n  NOT_LOGGED_IN,\r\n  WAS_LOGGED_IN,\r\n  REGISTER_FAIL,\r\n  RESOURCE_URL,\r\n  LOGOUT\r\n} from '../types';\r\n\r\nconst AuthState = props => {\r\n  \r\n   //Set State\r\n   const initialState = {\r\n     session: JSON.parse(localStorage.getItem('session')),\r\n     isAuthenticated: null,\r\n     loading: false,\r\n     error: null,\r\n     user: null,\r\n     subscriptions: null,\r\n     currentSubscription : null\r\n  }\r\n\r\n  // Connect to Reducer\r\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\r\n\r\n\r\n  // check Registration \r\n\r\n  const checkRegistration = async data => {\r\n\r\n    const path = `${RESOURCE_URL}/wp-admin/admin-ajax.php`;\r\n    try {\r\n      const response = await fetch( path, { method: 'POST', body: data } );\r\n      const jsonRes = await response.json();\r\n      console.log(jsonRes.success);\r\n      if ( jsonRes.success ) {\r\n        dispatch({\r\n          type: USER_LOADED,\r\n          payload: jsonRes.data\r\n        })\r\n      } else {\r\n        dispatch({ \r\n          type: REGISTER_FAIL , \r\n          payload : jsonRes.data\r\n        })\r\n      }\r\n     \r\n    } catch (error) {\r\n      dispatch({ \r\n        type: REGISTER_FAIL , \r\n        payload : error\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const checkedForErrors = data => {\r\n    if (data.data) {\r\n      return ( ( data.data.status && ( data.data.status === 403 || data.data.status === 404 ) ) ? false: true );\r\n    }\r\n    return true;    \r\n  }\r\n\r\n  //load User\r\n  const loadAdmin = async data => {\r\n    if (localStorage && localStorage.getItem('userData') && localStorage.getItem('session') ) {\r\n      const userobject = JSON.parse((localStorage.getItem('userData')));\r\n      const session = JSON.parse((localStorage.getItem('session')));\r\n      const url = RESOURCE_URL + '/wp-json/wp/v2/users/' + userobject.user_id;\r\n      try {\r\n        const results = await fetch( url ,{ headers: { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' + session.token } } );\r\n        const userRes = await results.json();        \r\n        dispatch({ type: ADMIN_LOADED, payload: userRes });\r\n      } catch (e) {\r\n        console.log(e) \r\n      }\r\n    } else {\r\n      const res = await fetch(LOGIN_URL, { method: 'POST', body: data, });\r\n      const jsonRes = await res.json();\r\n      if (checkedForErrors(jsonRes)) {\r\n        console.log('Token ís Checked, continue...')\r\n        try {\r\n          const url = RESOURCE_URL + '/wp-json/wp/v2/users/' + jsonRes.user_id;\r\n          const results = await fetch( url ,{ headers: { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' + jsonRes.token } } );\r\n          const userRes = await results.json();  \r\n          if (checkedForErrors(userRes)) {\r\n            dispatch({ type: ADMIN_LOADED, payload: userRes });\r\n            localStorage.setItem('session', JSON.stringify(jsonRes));\r\n          } else {\r\n            console.log(userRes);\r\n            localStorage.clear();\r\n            dispatch({\r\n              type: REGISTER_FAIL,\r\n              payload: userRes\r\n            });\r\n          }\r\n        } catch (e) {\r\n          console.log(e);\r\n          localStorage.clear();\r\n          dispatch({\r\n            type: REGISTER_FAIL,\r\n            payload: e\r\n          });\r\n        }\r\n      } else {\r\n        localStorage.clear();\r\n        dispatch({\r\n          type: REGISTER_FAIL,\r\n          payload: jsonRes\r\n        });\r\n      }\r\n    } \r\n  }\r\n  \r\n  // Logout\r\n  const logOut = () => {\r\n    dispatch({ type: LOGOUT });\r\n  };\r\n  // check for previous login\r\n  const isLoggedIn = () => {\r\n    if ( localStorage && localStorage.getItem('userData') && localStorage.getItem('session')  ) {\r\n      dispatch({ type: WAS_LOGGED_IN  })\r\n    } else {\r\n      dispatch({ type: NOT_LOGGED_IN });\r\n    }\r\n    \r\n  }\r\n\r\n  // Clear Errors\r\n\r\n  // Return State Component\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        //\r\n        // state objects\r\n        //\r\n        session: state.session,\r\n        isAuthenticated: state.isAuthenticated,\r\n        loading: state.loading,\r\n        subscriptions: state.subscriptions,\r\n        user : state.user,\r\n        error: state.error,\r\n        //\r\n        // functions\r\n        //\r\n        checkRegistration,\r\n        isLoggedIn,\r\n        logOut,\r\n        loadAdmin\r\n      }} >\r\n    {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n\r\n}\r\nexport default AuthState;","import React, { useContext, useEffect }from 'react';\r\n\r\nimport './Courses.css';\r\nimport Spinner from '../layout/Spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\n// import MaterialIcon from 'material-icons-react';\r\n\r\nconst Coursedetail = props => {\r\n\r\n  const courseID = props.match.params.id;\r\n \r\n  const  coursesContext = useContext(CoursesContext);\r\n  const  { courses , getCourses } = coursesContext;\r\n        \r\n  useEffect(() => {\r\n    if (!courses) {\r\n      getCourses()\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [courses]);\r\n\r\n  if( courses === null || courses.length === 0 ){\r\n    return <Spinner />\r\n  } else {\r\n    \r\n    const course = courses.filter( product => product.id === Number(courseID ))[0];\r\n    \r\n    const meta = course.acf;\r\n\r\n    const metaData = `<section class=\"course__detail-meta\">\r\n    <span class=\"course__detail-meta-videos\">Aantal Video's: ${meta.aantal_videos}</span>\r\n    <span class=\"course__detail-meta-time\">tijd: ${meta.totale_tijdsduur}</span>\r\n    </section>\r\n    `;\r\n    const videolink = (meta[\"video-link\"]);\r\n    return (\r\n      <section className=\"course__detail\">\r\n        <header className=\"course__header\"><h2>{ course.name}</h2></header>\r\n        <nav><Link to='/'><button className=\"btn\"><span>Terug</span></button></Link></nav>\r\n        <section className=\"course__detail-content\">\r\n          <aside className=\"course__detail-aside\">\r\n            <figure className=\"course__detail_figure\">\r\n            <img src={ course.acf.pictogram } alt=\"Thumbnail\"/>\r\n            </figure>\r\n            <section dangerouslySetInnerHTML={{__html: metaData }} ></section>\r\n            <Link to={`/video/${course.id}/${videolink}`}><button className=\"btn cta-btn\">Start Cursus</button></Link>\r\n          </aside>\r\n\r\n          <article className=\"course-card\" >\r\n          <section className=\"course-card__content\" dangerouslySetInnerHTML={{__html: course.acf.info}} />\r\n          </article>\r\n        </section>\r\n        <footer></footer>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Coursedetail;","import React, { Component } from 'react';\r\nimport Vimeo from '@u-wave/react-vimeo';\r\n\r\nclass HotVideoPlayer extends Component  {\r\n    render() {     \r\n        return (\r\n            <section id=\"theater\" >\r\n                <Vimeo\r\n                    video={this.props.vimeoID}\r\n                    id=\"stage\"\r\n                    autoplay\r\n                    start={this.props.start}\r\n                    onLoaded={this.props.handleOnLoaded}\r\n                    onError={this.props.handleError}\r\n                    onPlay={this.props.handlePlayerPlay}\r\n                    onTimeUpdate={this.props.handlePlayerUpdate}\r\n                    onEnd={this.props.handleEnd}\r\n                    onSeeked={this.props.handleSeeked}\r\n                    onPause={this.props.pauseThePlayer}\r\n                />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HotVideoPlayer;\r\n","import React, { useContext } from 'react';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\nimport ProgressContext from '../../context/progress/progressContext';\r\nimport Spinner from '../layout/Spinner';\r\n// import parseSRT from 'parse-srt';\r\n\r\nconst VideoDetail = props => {\r\n  const coursesContext = useContext(CoursesContext);\r\n  const progressContext = useContext(ProgressContext);\r\n  const { currentVideo } = coursesContext;\r\n  const {  perc_viewed } = progressContext;\r\n  const generateMeta = ( data ) =>{\r\n   \r\n    var html = /(<([^>]+)>)/gi;\r\n    var d = data.meta.transcriptie.replace(html, \"\");\r\n    var lines = d.split('\\n');\r\n    var output = '';\r\n    lines.forEach((line , index) => {\r\n      const range = line.split( ' --> ');\r\n      if(  range[1] === undefined ){\r\n          if( ! /^\\d+$/.test(line)){\r\n            output+= '<span class=\"subtitle-line\">'+line+' </span>';\r\n        } \r\n      }\r\n    });\r\n      return output; \r\n  }\r\n\r\n  if(currentVideo ){\r\n\r\n    return (\r\n      <div>\r\n        <header className=\"card-header\">\r\n          <h3>{ currentVideo.post.post_title }</h3>\r\n        </header>\r\n        <nav className=\"course__meta\">\r\n          <span className=\"course__detail-meta\"><MaterialIcon icon=\"movie\" size=\"18\"/> {currentVideo.meta.minuten} min {currentVideo.meta.seconden} sec.</span>\r\n          <span className=\"course__detail-meta\"><MaterialIcon icon=\"done_outline\" size=\"18\" /><div className=\"progress-bar\"><div className=\"bar\" style={{width : perc_viewed+'%'}}></div></div></span>\r\n        \r\n        </nav>\r\n        <section className=\"right-content\"  dangerouslySetInnerHTML={{ __html: generateMeta(currentVideo) }}>\r\n        </section>\r\n        \r\n      </div>\r\n    )\r\n  } else {\r\n    return(\r\n      <Spinner />\r\n    )\r\n  }\r\n   \r\n  \r\n}\r\nexport default VideoDetail;","import React, { useContext } from 'react';\r\nimport VideoDetail from './VideoDetail';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\nimport './player.css';\r\nimport Spinner from '../layout/Spinner';\r\n\r\n\r\nconst VideoFooter = props => {\r\n  const coursesContext = useContext(CoursesContext);\r\n  const { currentCourse } = coursesContext;\r\n \r\n   \r\n  if( currentCourse ){\r\n    return (\r\n      <footer className=\"video__footer\">\r\n        <section className=\"leftColumn\">\r\n          <header className=\"card-header\">\r\n            <h2>{currentCourse.name}</h2>\r\n          </header>\r\n          <section className=\"course__meta\">\r\n            <span className=\"course__detail-meta\"><MaterialIcon icon=\"movie\" size=\"18\"/> {currentCourse.acf.aantal_videos} video's</span>\r\n            <span className=\"course__detail-meta\"> <MaterialIcon icon=\"timer\" size=\"18\" /> {currentCourse.acf.totale_tijdsduur}</span>\r\n          </section>\r\n          <article  dangerouslySetInnerHTML={{ __html: currentCourse.acf.info }}></article>\r\n        </section>\r\n        <section className=\"rightColumn\">\r\n        <VideoDetail />\r\n        </section>\r\n        \r\n      </footer>\r\n    )\r\n  } else {\r\n    return (\r\n      <footer className=\"video__footer\">\r\n       <section className=\"leftColumn\"><Spinner /></section>\r\n       <section className=\"rightColumn\"><Spinner /></section>\r\n      </footer>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default  VideoFooter;","import React from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Linker = props => {\r\n \r\n  const { currentCourseID } = props;\r\n\r\n    const link = props.link;\r\n\r\n    let title = link.post.post_title;\r\n   \r\n    const post_id = link.post.ID;\r\n    \r\n    return (\r\n      <li className=\"chapter__list-item\">\r\n      <NavLink to={`/video/${currentCourseID}/${post_id}` } id={'video_'+post_id} className=\"chapter__list-item__link\">{ title }</NavLink>\r\n      </li>\r\n    )\r\n  \r\n}\r\n\r\nexport default Linker;\r\n","import React from 'react';\r\nimport Linker from './Linker';\r\nimport MaterialIcon from 'material-icons-react';\r\n\r\n\r\nconst ListItem = props => {\r\n\r\n        const { id, type, title, video, currentCourseID, werkmateriaal } = props;\r\n\r\n        let link = [];\r\n\r\n        const videoList = Object.values(video);\r\n        for (let key in videoList) {\r\n            link.push( < Linker key = { key }\r\n                link = { videoList[key] }\r\n                currentCourseID = { currentCourseID }\r\n                />);\r\n            }\r\n            let material = null;\r\n            if (werkmateriaal !== \"\") {\r\n                material = < a href = { werkmateriaal }\r\n                target = '_blank'\r\n                rel = \"noopener noreferrer\" > < MaterialIcon icon = \"cloud_download\"\r\n                color = \"white\" / > < /a>\r\n            }\r\n            return ( <\r\n                li className = { \"chapter \" + type }\r\n                id = { \"chapter-\" + id } >\r\n                <\r\n                header className = \"chapter__header\" >\r\n                <\r\n                h4 > { title } < /h4> { material } <\r\n                /header> <\r\n                ul className = \"chapter__list\" > { link } < /ul> <\r\n                /li>\r\n            )\r\n        }\r\n\r\n        export default ListItem;","import React, { useContext } from 'react';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\nimport ListItem from './ListItem';\r\n\r\nconst ListItems = props => {\r\n\r\n  const coursesContext = useContext(CoursesContext);\r\n\r\n  const { currentCourse , currentCourseID } = coursesContext;\r\n  if (currentCourse) {\r\n// console.log(currentCourseID);\r\n    const { chapters } = currentCourse;\r\n    const chapterList = Object.values(chapters); \r\n    let list = [];\r\n    chapterList.forEach(chapter => {\r\n\r\n      const id = chapter.data.term_id;\r\n      const title = chapter.data.name;\r\n      const video = chapter.video;\r\n      const type = chapter.acf.type;\r\n      const werkmateriaal = chapter.acf.werk_materiaal;\r\n      // console.log(video);\r\n\r\n      list.push(<ListItem key={id} id={id.toString()} type={type} currentCourseID={currentCourseID } title={title} video={video} werkmateriaal={ werkmateriaal } />);\r\n       \r\n     \r\n    })\r\n    return (\r\n      <ul>{list}</ul>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>Geen Cursus gedetecteerd</div>\r\n    )\r\n  }\r\n  // const chapter = this.props.chapter;\r\n  // const course_id = this.props.course_id;\r\n  // const course_slug = this.props.course_slug;\r\n  // let link = [];\r\n  // let material = '';\r\n  // let title = chapter.data.name;\r\n  // // console.log(chapter.acf.werk_materiaal)\r\n  // if (chapter.acf.werk_materiaal !== \"\" && chapter.acf.werk_materiaal !== undefined) {\r\n  //   material = <a href={chapter.acf.werk_materiaal} ><MaterialIcon icon=\"cloud_download\" color=\"white\" /></a >;\r\n  // }\r\n  // let id = chapter.data.term_id;\r\n  // let type = chapter.acf.type;\r\n  // // console.log(this.props.selectedState);\r\n  // if (chapter['video']) {\r\n  //   let video = chapter['video']\r\n  //   for (let key in video) {\r\n  //     link.push(<Linker key={key} link={video[key]} course_id={course_id} selectedState={this.props.selectedState} />);\r\n  //   }\r\n  // }\r\n  // return (\r\n  //   <li className={\"chapter \" + type} id={\"chapter-\" + id}>\r\n  //     <header className=\"chapter__header\" >\r\n  //       <h4>{title}</h4> {material}\r\n  //     </header>\r\n  //     <ul className=\"chapter__list\">{link}</ul>\r\n  //   </li>\r\n  // )\r\n}\r\n\r\nexport default ListItems;\r\n","import React, { Fragment, useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport ProgressContext from '../../context/progress/progressContext';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\nimport HotVideoPlayer from './HotVideoPlayer.js';\r\nimport VideoFooter from './VideoFooter.js';\r\n\r\nimport ListItems from './ListItems';\r\n\r\nconst PlayerContainer = props => {\r\n\r\n    // Get Context\r\n    const authContext = useContext(AuthContext);\r\n    const progressContext = useContext(ProgressContext);\r\n    const coursesContext = useContext(CoursesContext);\r\n\r\n    const { isAuthenticated, user } = authContext;\r\n    const { getCourse, currentCourse, getVideo, currentCourseID, currentVideo, videoList } = coursesContext;\r\n    const { updateVideoProgress, perc_viewed, startVideoProgress } = progressContext;\r\n\r\n    const stringToBoolean = string => {\r\n            switch (string) {\r\n                case \"true\":\r\n                case \"yes\":\r\n                case \"1\":\r\n                    return true;\r\n                case \"false\":\r\n                case \"no\":\r\n                case \"0\":\r\n                case null:\r\n                    return false;\r\n                default:\r\n                    return false;\r\n            }\r\n        }\r\n        // Use State \r\n        // eslint-disable-next-line\r\n    const [paused, setPaused] = useState(false);\r\n    // eslint-disable-next-line\r\n    const [time, setTime] = useState(null);\r\n    const [actions, setActions] = useState([]);\r\n    const [ticker, setTicker] = useState(0);\r\n    const [toggleList, setToggleList] = useState(false);\r\n    const [start, setStart] = useState(0);\r\n    // const [isLoaded, setIsLoaded] = useState(false);\r\n    // eslint-disable-next-line\r\n    const [totalTime, setTotalTime] = useState(0);\r\n    const [autoPlay, setAutoPlay] = useState(true);\r\n    const [showPopUp, setShowPopUp] = useState(false);\r\n    const [popupContent, setPopupContent] = useState(null);\r\n\r\n    // let list = '';\r\n\r\n    const findIndex = (id) => {\r\n        for (let index in videoList) {\r\n            if (videoList[index].post.ID === id) { return index; }\r\n        };\r\n    }\r\n\r\n    // starts the video Tracking\r\n\r\n    const startVideo = async() => {\r\n        const videoId = props.match.params.id;\r\n        const courseId = props.match.params.course_id;\r\n        setShowPopUp(false)\r\n        if (!currentCourse) {\r\n            await getCourse(courseId, videoId);\r\n            await getVideo(videoId, currentCourse);\r\n            if (isAuthenticated && currentVideo) {\r\n                console.log('Start VideoProgress');\r\n                startVideoProgress(currentVideo, user.id, currentCourseID);\r\n            }\r\n        } else {\r\n            await getVideo(videoId, currentCourse);\r\n            if (isAuthenticated && currentVideo) {\r\n                console.log('Start VideoProgress');\r\n                startVideoProgress(currentVideo, user.id, currentCourseID);\r\n            }\r\n        }\r\n    }\r\n\r\n    // When User pauses the Video\r\n    const pauseThePlayer = (e) => {\r\n\r\n        setTicker(0);\r\n        const time = parseInt(e.seconds)\r\n        const actionObj = { type: \"Paused\", timestamp: time, data: \"Video gepauzeerd\" }\r\n        setActions([...actions, actionObj]);\r\n        setPaused(true);\r\n        const videoObj = { time: e, actions: actions };\r\n        updateVideoProgress(videoObj, user.id);\r\n    }\r\n\r\n\r\n    // When user Starts the video mannually\r\n    const handlePlayerPlay = (e) => {\r\n\r\n        // if (perc_viewed > 0) {\r\n        //   setStart((e.duration * perc_viewed) / 100); \r\n        // }\r\n        setTicker(0);\r\n        const time = parseInt(e.seconds)\r\n        setTotalTime(e.duration);\r\n        const actionObj = { type: \"Play\", timestamp: time, data: \"Video gestart\" };\r\n        setActions([...actions, actionObj]);\r\n        setPaused(false)\r\n        const videoObj = { time: e, actions: actions };\r\n        updateVideoProgress(videoObj, user.id);\r\n    }\r\n\r\n    // triggered by the Player\r\n    const handlePlayerUpdate = (e) => {\r\n        if (e.duration - e.seconds < 10) {\r\n            showNextPopup(parseInt(e.duration - e.seconds));\r\n        }\r\n        setTime(e);\r\n        setTicker(ticker + 1);\r\n        if (ticker > 50) {\r\n            setTicker(0);\r\n            console.log(e);\r\n            const videoObj = { time: e, actions: actions };\r\n            updateVideoProgress(videoObj, user.id)\r\n        }\r\n    }\r\n\r\n    // when the video ends\r\n    const handleEnd = (e) => {\r\n            console.log('Handle End', autoPlay);\r\n            setTicker(0);\r\n            if (autoPlay) {\r\n                playNext();\r\n            }\r\n        }\r\n        // // Handle any Video Errors from Vimeo\r\n        // const handleError = (err) => {\r\n        //     console.log(err)\r\n        // }\r\n\r\n    // when user scrubs teh video\r\n    const handleSeeked = (e) => {\r\n        // console.log('handle Seeked' , e.seconds )\r\n        setTicker(0);\r\n        const time = parseInt(e.seconds)\r\n        const obj = { type: \"Seeked\", timestamp: time, data: \"Tijd verplaatst\" };\r\n        setActions([...actions, obj]);\r\n        setPaused(false)\r\n        const videoObj = { time: e, actions: actions }\r\n        updateVideoProgress(videoObj, user.id)\r\n    }\r\n\r\n    // when video is first loaded\r\n    const handleOnLoaded = (e) => {\r\n            const action = { type: 'Start', timestamp: 0, data: \"Video Monitor gestart\" };\r\n            setActions([...actions, action]);\r\n            setTotalTime(e.duration);\r\n        }\r\n        // Toggle the Autoplay switch\r\n    const onAutoPlayChange = () => {\r\n        setAutoPlay(!autoPlay);\r\n        localStorage.setItem('autoPlay', !autoPlay);\r\n    }\r\n\r\n    // Show/ Hide the courseList\r\n    const toggleTheList = (e) => {\r\n        setToggleList(!toggleList)\r\n        if (toggleList) {\r\n            const list = document.getElementById(\"video__list\");\r\n            list.classList.remove('hide__list');\r\n            e.currentTarget.classList.add('hide__list');\r\n        } else {\r\n            const list = document.getElementById(\"video__list\");\r\n            list.classList.add('hide__list');\r\n            e.currentTarget.classList.remove('hide__list');\r\n        }\r\n    }\r\n\r\n    // Triggered at the end of the video if autoPlay is set to true  \r\n    const playNext = () => {\r\n        const currID = currentVideo.post.ID;\r\n        const nextID = parseInt(findIndex(currID)) + 1;\r\n        const post = videoList[nextID];\r\n        const videoPath = `/video/${currentCourseID}/${post.post.ID}`;\r\n        props.history.push(videoPath);\r\n        setShowPopUp(false)\r\n    }\r\n\r\n\r\n    // show Popup at the last 5 seconds\r\n    const showNextPopup = (left) => {\r\n        //console.log(left);\r\n        if (autoPlay) {\r\n            if (left === 0) {\r\n                playNext();\r\n                setShowPopUp(false)\r\n            };\r\n            setShowPopUp(true);\r\n            setPopupContent(`Volgende video start in ${left} seconden`);\r\n            console.log(popupContent);\r\n        }\r\n    }\r\n\r\n\r\n    // ComponnentDidMount\r\n    useEffect(() => {\r\n        if (!currentCourse) {\r\n            const videoId = props.match.params.id;\r\n            const courseId = props.match.params.course_id\r\n\r\n            getCourse(courseId, videoId);\r\n        }\r\n        if (localStorage.getItem('autoPlay')) {\r\n            const ap = localStorage.getItem('autoPlay')\r\n            setAutoPlay(stringToBoolean(ap));\r\n        } else {\r\n            localStorage.setItem('autoPlay', autoPlay)\r\n        }\r\n\r\n        startVideo();\r\n        if (perc_viewed > 0) {\r\n            setStart(parseInt(perc_viewed / 100));\r\n        } else {\r\n            setStart(0);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [props.match.params.id, currentVideo, currentCourse]);\r\n\r\n\r\n\r\n    if (!isAuthenticated && !currentVideo) {\r\n        return ( <\r\n            div className = \"container\" >\r\n            <\r\n            section className = \"placeholder-video\" >\r\n            <\r\n            h1 > Helaas Video 's kunnen alleen worden bekeken indien je geregistreerd bent.</h1> <\r\n            p > Ga terug naar de < Link className = \"btn\"\r\n            to = \"/\" > start pagina < /Link> om in te loggen.</p >\r\n            <\r\n            /section> <\r\n            /div>\r\n        )\r\n    } else {\r\n\r\n        let vID = null;\r\n        if (currentVideo) {\r\n            vID = < HotVideoPlayer\r\n            start = { start }\r\n            vimeoID = { currentVideo.meta.video_id }\r\n            handleOnLoaded = { handleOnLoaded }\r\n            handlePlayerPlay = { handlePlayerPlay }\r\n            handlePlayerUpdate = { handlePlayerUpdate }\r\n            handleEnd = { handleEnd }\r\n            handleSeeked = { handleSeeked }\r\n            pauseThePlayer = { pauseThePlayer }\r\n\r\n            />;\r\n        }\r\n        let thePopUp = null;\r\n        if (showPopUp) {\r\n            console.log('THe Pop UP')\r\n            thePopUp = < div className = \"nextPopup\" > { popupContent } < /div> \r\n        }\r\n        return ( <\r\n            Fragment >\r\n            <\r\n            article className = \"video__viewer\" >\r\n            <\r\n            aside className = \"video__list\"\r\n            id = \"video__list\" >\r\n            <\r\n            div className = \"courseObject-list\" >\r\n            <\r\n            ListItems / >\r\n            <\r\n            /div> <\r\n            /aside> { vID } <\r\n            span className = \"btn list-toggle-btn hide__list\"\r\n            onClick = { toggleTheList }\r\n            title = \"Open videolijst\" > < MaterialIcon icon = \"arrow_back_ios\"\r\n            color = \"white\"\r\n            size = \"24\" / > < /span> { thePopUp } <\r\n            /article> <\r\n            section className = \"container\" >\r\n            <\r\n            nav className = \"video-panel\" >\r\n            Automatisch volgende video afspelen:\r\n            <\r\n            label className = \"switch\" >\r\n            <\r\n            input type = \"checkbox\"\r\n            checked = { autoPlay }\r\n            onChange = { onAutoPlayChange }\r\n            /> <\r\n            span className = \"slider round\" > < /span> <\r\n            /label> <\r\n            /nav> <\r\n            /section> <\r\n            VideoFooter / >\r\n            <\r\n            /Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PlayerContainer","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\nconst LoggedIn = props => {\r\n\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const {  user, logOut } = authContext;\r\n\r\n   const logOutHandler = ( e ) =>{\r\n    logOut();\r\n    e.currentTarget.value =\"Cache geleegd, ververs nu de pagina\"\r\n    //window.location.reload();\r\n  }\r\n\r\n    return (\r\n    \r\n         <section className=\"form\">\r\n          <header className=\"card-header\"><h2>Welkom terug, {user.name }</h2></header>\r\n          <article className=\"loggedin-content\">\r\n          <h5>Je bent nu ingelogd</h5>\r\n            <p>Ga verder naar onze <Link to='/'><button className=\"btn\">Start pagina</button></Link></p>\r\n            <h5>Wil je uitloggen?</h5>\r\n            <p>Klik hieronder om uit te loggen</p>\r\n            <button className=\"btn\" onClick={ logOutHandler }>Log Out</button>\r\n          </article>\r\n        </section>\r\n  \r\n    )\r\n}\r\nexport default LoggedIn;","import React, {  Fragment, useContext } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n// import Spinner from '../layout/Spinner';\r\n// import MaterialIcon from 'material-icons-react';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport './login.css';\r\n\r\n\r\nconst NotLoggedIn = props => {\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const {  loadAdmin , userError, error } = authContext;\r\n  \r\n  // const clearCache = ( e ) =>{\r\n  //   console.log(\"ClearCache\");\r\n  //   localStorage.clear();\r\n  //   document.getElementById('clear-btn').innerHTML = \"Cache geleegd, ververs pagina\";\r\n  // }\r\n  const submitHandler = e => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    loadAdmin(data);\r\n  }\r\n  let errorMsg = \"\";\r\n  if (userError) {\r\n    console.log(userError);\r\n    switch (userError.code) {\r\n      case '[jwt_auth] invalid_username':\r\n        errorMsg = 'Gebruikersnaam onbekend';\r\n        break;\r\n      case '[jwt_auth] incorrect_password':\r\n        errorMsg = \"Wachtwoord incorrect\";\r\n        break;\r\n      default:\r\n        errorMsg = userError.code;\r\n    }\r\n  }\r\n  if (error) {\r\n    console.log(error);\r\n    switch (error.code) {\r\n      case 'rest_user_invalid_id':\r\n        errorMsg = 'Gebruikersnaam staat niet geregistreerd';\r\n        break;\r\n      case '[jwt_auth] invalid_username':\r\n          errorMsg = 'Gebruikersnaam onbekend';\r\n          break;\r\n      case '[jwt_auth] incorrect_password':\r\n          errorMsg = \"Wachtwoord incorrect\";\r\n          break;\r\n      default:\r\n        errorMsg = error.message;\r\n    }\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <section className=\"form\">  \r\n        <header className=\"course__header\"><h2>Reeds geregistreerd?</h2></header>    \r\n        <form onSubmit={ submitHandler }>\r\n        { userError  ? <div className=\"error\">{errorMsg}</div> : \"\" }\r\n        { error  ? <div className=\"error\">{errorMsg}</div> : \"\" }\r\n          <section className=\"form__item\" >\r\n            <label htmlFor=\"username\">Gebruikersnaam</label>\r\n            <input id=\"username\" name=\"username\" required type=\"text\" />\r\n          </section>\r\n          <section className=\"form__item\">\r\n            <label htmlFor=\"password\">Wachtwoord</label>\r\n            <input id=\"password\" name=\"password\" required type=\"password\" />\r\n          </section>\r\n          <section className=\"form__item\" >\r\n            <button className=\"btn\" >Inloggen</button>\r\n          </section>\r\n        </form>\r\n      </section>         \r\n        <section className=\"form\">\r\n          <header className=\"course__header\"><h2>RegistratieCode:</h2></header>\r\n          <section className=\"form__item\" >\r\n          <p>Log in met registratie code</p>\r\n          <span className=\"btn\">{ <Link to={'/'}>Ga naar de registratie pagina</Link>}</span>\r\n              {/* <button className=\"btn\" id='clear-btn' onClick={ this.clearCache.bind(this)}>Leeg Cache</button> */}\r\n          </section>\r\n      </section>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default NotLoggedIn;","import React, { useContext } from 'react';\r\nimport LoggedIn from './LoggedIn';\r\nimport NotLoggedIn from './NotLoggedIn';\r\nimport { SITE_TITLE } from '../../context/types';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\n\r\nconst Login = props => {\r\n \r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { isAuthenticated } = authContext;\r\n  document.title = `Login - ${SITE_TITLE}`;\r\n\r\n  return (\r\n    <div className=\"login__window\"\r\n      // style={backgroundStyle}\r\n    >\r\n      { isAuthenticated ? <LoggedIn /> : <NotLoggedIn /> } \r\n    </div>\r\n   )\r\n}\r\n\r\n\r\nexport default Login;","import React, { useContext } from 'react'\r\nimport MaterialIcon from 'material-icons-react';\r\nimport UsersContext from '../../context/users/usersContext';\r\n\r\nconst AllListItem = props => {\r\n\r\n  const usersContext = useContext(UsersContext);\r\n  const { getUserProfile } = usersContext;\r\n\r\n\r\n  const onClick = (e) => {\r\n    e.preventDefault();\r\n    getUserProfile(props.user);\r\n  }\r\n\r\n\r\n  \r\n  if (props.user && props.user.role ) {\r\n    const user = props.user;\r\n    const groups = user.groups;\r\n    let groupList = '';\r\n    if (groups) {\r\n      for (let i = 0; i < groups.length; i++) {\r\n        if (i === 0) {\r\n          groupList += (i + 1) + ': ' + groups[i].group.name;\r\n        } else {\r\n          \r\n          groupList += ', ' + (i + 1) + ': ' + groups[i].group.name;\r\n        }\r\n      }\r\n    }\r\n    \r\n    let status_name = '';\r\n    let code = '';\r\n    if (props.user.role === \"student\") {\r\n      if (user.subscriptions.length > 0) {\r\n        const subscription = user.subscriptions[0];\r\n        let status = subscription.active;\r\n        let title = \"Status: In afwachting\";\r\n        code = subscription.code;\r\n        if (status === null || status === \"0\") {\r\n          status = 0;\r\n        } else if (status === '1') {\r\n          title = \"Status: Actief\";\r\n        } else {\r\n          title = \"Status: Inactief\";\r\n        }\r\n        status_name = <span title={title} className={'state state_' + status}></span>;\r\n      }\r\n      return (\r\n        <tr className=\"user-list__item\" key={user.ID} >\r\n          <td className=\"user-list__icon\"><MaterialIcon icon=\"person_outline\" color=\"var(--primary-color)\" size=\"16px\" title=\"Student\"></MaterialIcon></td>\r\n          <td className=\"user-list__name\"><div id={user.id} onClick={onClick} ><strong>{props.user.firstname} {props.user.lastname}</strong> <span className='small'>[{user.display_name}]</span></div></td>\r\n          <td className=\"user-list__code\">{code}</td>\r\n          <td className=\"user-list__date\" >{groupList}</td>\r\n          <td className=\"user-list__icon\">{status_name}</td>\r\n        </tr>\r\n      )\r\n    } else if (props.user.role === \"docent\") {\r\n      return (\r\n        <tr className=\"user-list__item\" key={user.ID} >\r\n          <td className=\"user-list__icon\"><MaterialIcon icon=\"account_circle\" color=\"var(--secondary-color)\" title=\"Docent\" size=\"24\" ></MaterialIcon></td>\r\n          <td className=\"user-list__name\"><div id={user.id} onClick={onClick} ><strong>{props.user.firstname} {props.user.lastname}</strong> <span className='small'>[{user.display_name}]</span></div></td>\r\n          <td className=\"user-list__code\"><strong>Docent</strong></td>\r\n          <td className=\"user-list__date\" >{groupList}</td>\r\n          <td className=\"user-list__icon\"><span title=\"Status: Actief\" className=\"state state_1\" ></span></td>\r\n        </tr>\r\n      )\r\n    } \r\n  } else { return <tr><td>Laden...</td></tr> }\r\n}\r\nexport default AllListItem;\r\n","import React, { useContext ,useRef, useEffect } from 'react';\r\nimport UsersContext from '../../../context/users/usersContext';\r\n\r\nconst UsersFilter = () => {\r\n\r\n  const usersContext = useContext(UsersContext);\r\n  const { filterUsers, filterTeachers , clearFilter, filtered } = usersContext;\r\n  const text = useRef('');\r\n  const filterTeacher = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (filtered === null) {\r\n      text.current.value = '';\r\n    }\r\n  })\r\n  const onChange = e => {\r\n   \r\n    if (text.current.value !== '' ) {\r\n     filterUsers( e.target.value)\r\n    } else {\r\n      clearFilter();\r\n    }\r\n  }\r\n  const onFocus = e => {\r\n    filterTeacher.current.checked = false;\r\n    clearFilter();\r\n  }\r\n\r\n  const onChecked = e => {\r\n    clearFilter();\r\n    if (filterTeacher.current.checked) {\r\n      filterTeachers(filterTeacher.current.checked);\r\n    }\r\n  }\r\n\r\n  return (\r\n    \r\n    <section  className=\"filter-bar\">\r\n      <span>\r\n        <input ref={text} type=\"text\" id=\"filter-users\" placeholder=\"Zoek gebruiker\"  onFocus={onFocus} onChange={onChange} />\r\n      </span>\r\n      <span className=\"checkbox-filter\">\r\n        <input type=\"checkbox\" name=\"filter-docent\" className=\"checkbox-custom\" id=\"filter-docent\" ref={filterTeacher} onChange={onChecked}/>\r\n        <label htmlFor=\"filter-docent\" className=\"checkbox-custom-label\">Alleen Docenten</label>\r\n      </span>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default UsersFilter\r\n","import React ,{ useState , useContext ,useEffect } from 'react';\r\nimport AllListItem from './AllListItem';\r\nimport UsersFilter from './includes/UsersFilter';\r\nimport Pagination from '../administration/Pagination'; \r\nimport UsersContext from '../../context/users/usersContext';\r\nimport { RESOURCE_URL, CHECKOUT } from '../../context/types';\r\nimport Spinner from '../layout/Spinner';\r\n\r\n\r\nconst UsersList = props => {\r\n  \r\n  const usersContext = useContext(UsersContext);\r\n\r\n  const { users , groups, getAllUsers ,filtered, total, loading } = usersContext;\r\n\r\n  const [isOpen, setIsOpen] = useState(true);\r\n\r\n\r\n  const getNextPage = e => { \r\n    console.log(e);\r\n    getAllUsers(100 , e);\r\n    // getProgress(user.id, 10, e );\r\n  }\r\n\r\n\r\n  const controller = {\r\n    total: total,\r\n    limit: 100,\r\n    offset : 0\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getAllUsers();\r\n    // eslint-disable-next-line\r\n  },[])\r\n\r\n  const getCourses = (ugroup) => {\r\n    \r\n    if(ugroup && ugroup.length>0 ){\r\n       const grs = groups;\r\n      let grp = [];\r\n      if (grs) {   \r\n        for( let i=0 ; i < ugroup.length ; i++ ) {\r\n          if( i!== 0 ){\r\n            const id = ugroup[i].group.group_id;\r\n            grs.find( (data) =>{ if(data.id === id ){ grp.push( data.courses )}; return null; })\r\n          }\r\n        }\r\n      }\r\n      return grp;\r\n    }\r\n  }\r\n  return (\r\n    <section className=\"dashboard-item\">\r\n      <input type=\"checkbox\" checked={ isOpen } onChange={ () => setIsOpen( !isOpen )} className=\"invi-select\" id=\"ul1\" name=\"users_select\" ></input>\r\n      <label htmlFor=\"ul1\" className=\"group__label\">\r\n        <header className=\"dashboard-item-header\"><h3>Geregistreerde Gebruikers {total}</h3></header>\r\n      </label>\r\n      <article className=\"dashboard-item-content group_table\">\r\n        <UsersFilter />\r\n          <Pagination controller={ controller } getNewProgress={getNextPage}  onTop={ true } />\r\n        <section className=\"group_table_scroll\">\r\n          { loading ? <Spinner /> : null }\r\n          <table className=\"users_table\"> \r\n          <thead>\r\n            <tr>\r\n              <th>Rol</th>\r\n              <th>Gebruiker</th>\r\n              <th>Inschrijving</th>\r\n              <th>Groep(en):</th>\r\n              <th>Actief</th>\r\n            </tr> \r\n            </thead>\r\n            <tbody>\r\n              {\r\n                filtered !== null ? filtered.map(\r\n                  (user, index) => (<AllListItem user={user} key={index} courses={getCourses(user.groups)} />)) :\r\n                users.map(\r\n                  (user, index) => (<AllListItem user={user} key={index} courses={getCourses(user.groups)} />)\r\n                )\r\n              }\r\n            </tbody>\r\n            </table>\r\n          </section>\r\n          <Pagination controller={ controller } getNewProgress={getNextPage}/>\r\n      </article>\r\n      <aside>\r\n        {/* <a href={ RESOURCE_URL +'/wp-admin/admin-ajax.php?action=csv_pull&nonce='+CHECKOUT+'' } className=\"btn download-link\" >Download als Excel bestand.</a> */}\r\n      </aside>\r\n    </section>\r\n  )\r\n}\r\nexport default  UsersList;","import React, { useContext, useState  } from 'react';\r\n\r\nimport UsersContext from '../../../context/users/usersContext';\r\n\r\nfunction NewUserForm(props) {\r\n   \r\n  const usersContext = useContext(UsersContext);\r\n  const { groups, registerUser } = usersContext;\r\n  let showlist = [];\r\n\r\n  const randomPassword = (length = 10 ) => {\r\n    var chars = \"ABCDEFGHIJKLMNOP1234567890\";\r\n    var pass = \"\";\r\n    for (var x = 0; x < length; x++) {\r\n        var i = Math.floor(Math.random() * chars.length);\r\n        pass += chars.charAt(i);\r\n    }\r\n    return pass;\r\n  }\r\n\r\n\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [code, setCode] = useState('');\r\n  // const [role, setRole] = useState(null);\r\n  const [email, setEmail] = useState('');\r\n  const [userGroup, setUserGroup] = useState(0);\r\n  const [checked, setChecked] = useState(false);\r\n  const [password, setPassword] = useState(randomPassword);\r\n  const [ hidden ,setHidden ] = useState(true);\r\n\r\n  if (groups && groups.length > 0) {\r\n    showlist = groups.map((item) => { return (<option key={item.id} value={item.id}>{item.group.name}</option>) });\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n\r\n  const registerNewUser = (e) => {\r\n    e.preventDefault();\r\n    const formData = {\r\n      'firstName': firstName,\r\n      'lastName': lastName,\r\n      'email': email,\r\n      'password': password,\r\n      'code': code,\r\n      'role': checked,\r\n      'group': userGroup,\r\n      'action' : 'registerByCode'\r\n    };\r\n    registerUser(formData);\r\n  }\r\n  const setUserChecked = () => {\r\n    if (checked) {\r\n      setEmail('');\r\n      setPassword('');\r\n\r\n    }\r\n    setChecked(!checked);\r\n  }\r\n\r\n  const onChangeHandler = e => {\r\n    console.log(e.target.name, e.target.value)\r\n    const val = e.target.value;\r\n    switch (e.target.name) {\r\n      case \"firstname\":\r\n        setFirstName(val)\r\n        return;\r\n      case \"lastname\":\r\n        setLastName(val);\r\n        return;\r\n      case \"code\":\r\n        setCode(val)\r\n        return;\r\n      case \"email\":\r\n        setEmail(val)\r\n        return;\r\n      case \"role\":\r\n        setUserChecked()\r\n        return;\r\n      case \"password\":\r\n        setPassword( val )\r\n        return;\r\n      case \"group\":\r\n        setUserGroup(val);\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n  \r\n  }\r\n//   const teacherPart = checked ?  ( return{  < section className = \"form__item\" >\r\n//     <label htmlFor=\"email\">Email: (<span className=\"alert\">* </span>indien docent) </label>\r\n//     <input id=\"email\" name=\"email\" onChange={onChangeHandler} value={email} type=\"email\" placeholder=\"Voer hier de email van Docent in\" />\r\n//   </section >})\r\n// : null;\r\n  let teacherPart = \"\";\r\n  if (checked) {\r\n    teacherPart =\r\n      <div className=\"dashboard-item\">\r\n        <header className=\"dashboard-item-header\"><h3>Docent gegevens:</h3></header>\r\n        <article className=\"dashboard-item-content\">\r\n          <section className=\"form__item\" >\r\n            <label htmlFor=\"email\">Email: (<span className=\"alert\">* </span>indien docent) </label>\r\n            <input id=\"email\" name=\"email\" onChange={onChangeHandler} value={email} type=\"email\" placeholder=\"Voer hier de email van Docent in\" />\r\n          </section >\r\n          <section className=\"form__item\" >\r\n            <label htmlFor=\"password\">Wachtwoord: (<span className=\"alert\">* </span>indien docent) </label>\r\n            <input id=\"password\" name=\"password\" onChange={onChangeHandler} value={password} type={ hidden ? \"password\" : \"text\"} placeholder=\"Voer hier een sterk wachtwoord in\" />\r\n          </section >\r\n          \r\n        </article>\r\n      </div>;\r\n  }\r\n\r\n  return (\r\n   <section className=\"dashboard-item\">\r\n      <header className=\"dashboard-item-header\"><h3>Nieuwe Gebruiker</h3></header>\r\n      <article className=\"dashboard-item-content\">\r\n        <form onSubmit={registerNewUser }>\r\n          <section className=\"form__item\">\r\n            <label htmlFor=\"firstname\"><span className=\"alert\">* </span>Voornaam: </label>\r\n            <input id=\"firstname\" name=\"firstname\" value={firstName} onChange={onChangeHandler} required type=\"text\" placeholder=\"Voer hier de voornaam in\" />\r\n          </section>\r\n          <section className=\"form__item\">\r\n          <label htmlFor=\"lastname\"><span className=\"alert\">* </span>Achternaam: </label>\r\n            <input id=\"lastname\" name=\"lastname\" value={lastName} onChange={onChangeHandler}  required type=\"text\" placeholder=\"voer hier de achternaam in\" />\r\n          </section>\r\n          <section className=\"form__item\">\r\n          <label htmlFor=\"code\"><span className=\"alert\">* </span>Interne code: </label>\r\n            <input id=\"code\" name=\"code\" required type=\"text\" onChange={onChangeHandler}  value={code} placeholder=\"Voer hier de internecode in\" />\r\n          </section>\r\n          <section className=\"form__item\">\r\n            <label htmlFor=\"role\">Rol: </label>\r\n            <h5>\r\n              <input id=\"role\" className=\"checkbox-custom\" onChange={onChangeHandler} checked ={ checked }  name=\"role\" type=\"checkbox\" />\r\n              <label htmlFor=\"role\" className=\"checkbox-custom-label\"> Docent</label>\r\n            </h5>\r\n          </section>\r\n         {teacherPart}\r\n          <section className=\"form__item\">\r\n            <label htmlFor=\"select1\" ><span className=\"alert\">* </span>Voeg toe aan een groep:</label>\r\n            <select className=\"select-css\" multiple={false} onChange={onChangeHandler}  value={userGroup} name=\"group\" required >{showlist}</select>\r\n          </section>\r\n          <section >\r\n            <button className=\"btn important_btn\">Maak nieuwe gebruiker aan</button>\r\n            <input type=\"hidden\" name=\"action\" value=\"registerByCode\" />\r\n          </section>\r\n        </form>\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default NewUserForm;\r\n","import React, { Fragment} from 'react';\r\nimport UsersList from'./UsersList';\r\nimport NewUserForm from'./includes/NewUserForm';\r\n\r\nfunction Users(props) {\r\n  return( \r\n    <Fragment>\r\n      <input type=\"checkbox\" className=\"invi-select\" id=\"db2\" name=\"group_select\" defaultChecked ></input>\r\n      <label htmlFor=\"db2\" className=\"group__label\">\r\n        <header className=\"dashboard-item-header\"><h3><span className=\"blob\">2</span> Gebruikers</h3></header>\r\n      </label>\r\n      <section className=\"dashboard__description\"><p>Voeg hier gebruikers toe aan groepen..</p>\r\n      </section>\r\n      <article className=\"dashboard__item-columns\">\r\n        <NewUserForm checkout={ props.checkout }  registerUser={props.registerUser} groups={props.groups} />\r\n        <UsersList\r\n          // users={props.allUsers}\r\n          groups={props.groups}\r\n          showUserProfile={props.showUserProfile}\r\n        />\r\n      </article>\r\n    </Fragment>\r\n  )\r\n}\r\nexport default Users;","import React, { useContext, useEffect } from 'react';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\n\r\nimport Spinner from '../layout/Spinner';\r\n\r\n\r\nconst AdminCoursesSelect = props => {\r\n\r\n  const coursesContext = useContext(CoursesContext);\r\n  const { courses, getCourses } = coursesContext;\r\n\r\n  useEffect(() => {\r\n    if (!courses) {\r\n      \r\n      getCourses();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [ courses]);\r\n\r\n  const handleChange = e => {\r\n    props.addToCourses(e.target.value)\r\n  }\r\n\r\n\r\n  if( courses && courses.length > 0 ){\r\n    return (\r\n      <React.Fragment>\r\n        <section className=\"courses-list\"  >\r\n          <ol>\r\n          { courses.map( item => (\r\n            <li key={item.id} >\r\n              <input type=\"checkbox\" onChange={handleChange} key={ item.id } id={`check_${item.id}`} name=\"courseID\" value={ item.id } className=\"checkbox-custom\"/> <label className=\"checkbox-custom-label\" htmlFor={`check_${item.id}`}>{item.name}</label>\r\n            </li>\r\n          ) ) }\r\n          </ol>\r\n        </section>\r\n      </React.Fragment>\r\n    )\r\n  } else {\r\n    return ( <div><Spinner /></div> )\r\n  }\r\n}\r\n\r\nexport default AdminCoursesSelect;","import React, { useState, useContext } from 'react';\r\nimport AdminCoursesSelect from './AdminCoursesSelect';\r\nimport UsersContext from '../../context/users/usersContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\nconst NewGroup = props => {\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const usersContext = useContext(UsersContext);\r\n  const { user } = authContext;\r\n  const { addNewGroup } = usersContext;\r\n\r\n  const [ groupname , setGroupname ] = useState('');\r\n  const [ description , setDescription ] = useState('');\r\n  const [ courses , setCourses ] = useState([]);\r\n\r\n  // update the Description \r\n  const handleDescriptionChange = (e) =>{\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  // update the Groupname state\r\n  const handleGroupChange = (e) =>{\r\n    setGroupname(e.target.value);\r\n  }\r\n\r\n  // update the Courses State\r\n  const handleCourses = val => {\r\n    var index =courses.indexOf(val);\r\n    if (index > -1) {\r\n      courses.splice(index, 1);\r\n    } else {\r\n      const newCourses = [...courses,  val ];\r\n      setCourses(newCourses);\r\n    }  \r\n  }\r\n\r\n  // Clear the Form\r\n  const clearForm = () => {\r\n    setGroupname('');\r\n    setDescription('');\r\n    setCourses([]);\r\n  }\r\n\r\n  // send the dat to teh server\r\n  const sendForm = (e) =>{\r\n    e.preventDefault();\r\n    const formData = {\r\n      'groupname': groupname,\r\n      'description': description,\r\n      'courses'   : courses.toString()\r\n    }\r\n    addNewGroup(formData, user.id);\r\n    clearForm();\r\n  }\r\n  // console.log(user);\r\n  return (\r\n    <section className=\"dashboard-item\">\r\n      <header className=\"dashboard-item-header\"><h3>Nieuwe Groep</h3></header>\r\n      <article className=\"dashboard-item-content\">\r\n          <form onSubmit={ sendForm} >\r\n              <section className=\"form__item\" >\r\n                  <label htmlFor=\"groupname\"><span className=\"alert\">*</span> Groepsnaam:</label>\r\n                  <input id=\"groupname\" name=\"groupname\" placeholder=\"nieuwe groepsnaam\" required type=\"text\" onChange={ handleGroupChange} value={groupname}/>\r\n              </section>\r\n              <section className=\"form__item\" >\r\n                  <label htmlFor=\"description\">Omschrijving</label>\r\n                  <textarea value={description} onChange={handleDescriptionChange} id=\"description\" name=\"description\" cols={35} rows={5} />\r\n              </section>\r\n              <section className=\"form__item\" >\r\n              <label ><span className=\"alert\">*</span> Gekoppelde cursus:</label>\r\n              <AdminCoursesSelect includeList={ props.includeList } addToCourses={handleCourses} />\r\n              </section>\r\n              <section  >\r\n                  <button className=\"btn important_btn\"  >Nieuwe groep aanmaken</button>\r\n                  <input name=\"userid\" value={ user.id } type=\"hidden\" />\r\n              </section>\r\n          </form>\r\n          <section className=\"message-panel\"></section>\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default NewGroup;","import React from 'react'\r\n\r\nimport MaterialIcon from 'material-icons-react';\r\n\r\nconst GroupsTableRow = props => {\r\n\r\n\r\n  const downloadHandler = ( e ) =>{\r\n    e.preventDefault();\r\n    // props.downloadProgress( e.target.id);\r\n    //  console.log(\"Click\", e.target.id)\r\n  }\r\n \r\n    const {id , first_name, last_name, roles, subscriptions } = props.user; //#endregion\r\n  const role = roles;\r\n  let subscription = null;\r\n  let status = \"1\";\r\n  if ( subscriptions && subscriptions.length > 0 ) {\r\n    subscription = subscriptions[0];\r\n    status = subscription.active;\r\n  }\r\n    let title = \"Status: In afwachting\";\r\n    if( status === null || status===\"0\" ){\r\n      status = 0;\r\n    } else if( status === \"1\"){\r\n      title = \"Status: Actief\";\r\n    } else {\r\n      title =\"Status: Inactief\"; \r\n    }\r\n    const status_name = <span title={title} className={'state state_'+status}></span>;\r\n    let icon ='';\r\n    switch (role.toLowerCase()) {\r\n      case \"student\":\r\n      icon = <MaterialIcon icon=\"person_outline\" color=\"#49b4aa\" title={`${role}_${id}`} />\r\n      break;\r\n      case \"docent\":\r\n      icon = <MaterialIcon icon=\"person\" color='#2d89cc' title={role}/>\r\n      break;\r\n      default :\r\n      icon = <MaterialIcon icon=\"person\" color='#004474' title={role}/>\r\n    }\r\n    return (\r\n      <tr className=\"user-list__item\">\r\n      <td className=\"user-list__icon\">{icon }</td>\r\n        <td className=\"user-list__name\" >\r\n          <div id={ id} >{ first_name } { last_name }</div>\r\n        </td>\r\n        <td className=\"user-list__date\" ><strong>{  subscription ? subscription.subscription : null }</strong></td>\r\n        <td className=\"user-list__date\" ><MaterialIcon icon=\"archive\" onClick={ downloadHandler } id={ id }/></td>\r\n        <td className=\"user-list__date\" >{status_name}</td>\r\n      </tr>\r\n    )\r\n}\r\nexport default GroupsTableRow;","import React, { Fragment } from 'react'\r\nimport GroupsTableRow from './GroupsTableRow';\r\n\r\n\r\n\r\nconst GroupTable = props => {\r\n\r\n  \r\n  // const downloadProgress = ( id ) => {console.log( id )\r\n  //   props.downloadProgress( id );\r\n  // }\r\n  const users = props.users;\r\n\r\n\r\n\r\n\r\n  let list=[]\r\n  if( users && users.length > 0){\r\n    users.forEach( (user, index) => { \r\n      if(user.roles === 'student' || user.roles === 'docent'){ \r\n        list.push(<GroupsTableRow\r\n          user={user}\r\n          key={index}\r\n        />)\r\n      }      \r\n    }) \r\n\r\n  const divStyle = {\r\n    width : '2%'\r\n  };\r\n   const textStyle = {\r\n    width : '45%'\r\n  };\r\n  return (\r\n    <Fragment>\r\n    <table className=\"user-list\"> \r\n      <thead>\r\n        <tr >\r\n        <th style={divStyle}></th>\r\n          <th  style={textStyle}>Student/ docent </th>\r\n          <th style={textStyle}>Registratie code: </th>\r\n          <th  style={divStyle}>Voortgang: </th>\r\n          <th  style={divStyle}>Actief: </th>\r\n        </tr> \r\n      </thead>\r\n      <tbody>\r\n        {list}\r\n      </tbody>\r\n    </table>\r\n   \r\n    </Fragment>\r\n  )\r\n    } else {\r\n      return (\r\n        <div>Lege groep</div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default GroupTable;\r\n","import React, { useContext , useState } from 'react'\r\nimport GroupTable from './GroupTable';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\n\r\nimport { RESOURCE_URL ,CHECKOUT } from '../../context/types';\r\n\r\n\r\nconst GroupItem = props => {\r\n\r\n  const [ users , setUsers ] = useState(null);\r\n \r\n\r\n  const coursesContext = useContext(CoursesContext);\r\n  // const usersContext = useContext(UsersContext);\r\n  const { courses } = coursesContext;\r\n  let { name , group_id , description } = props.group.group;\r\n\r\n const showGroupMembers = async () => {\r\n   if( users === null ){\r\n    const session = JSON.parse(localStorage.getItem('session'));\r\n    if ( session ) {\r\n     const headers = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n      \r\n      const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/?id=${group_id}`;\r\n      try {\r\n        const results = await fetch(path , headers )\r\n        const jsonRes = await results.json();\r\n        setUsers( jsonRes.data[0].users );\r\n      } catch ( error ) {\r\n        console.log(\"ERROR\");\r\n      }\r\n    }\r\n   } else {\r\n     setUsers(null);\r\n   }\r\n }\r\n  // const downloadProgress = ( id ) => {console.log( id )\r\n  //   // this.props.downloadProgress( id );\r\n  // }\r\n\r\n  // const deleteHandler = (e) => {\r\n  //   e.preventDefault();\r\n   \r\n  //   //  this.props.deleteHandler(  this.props.group.group.group_id )\r\n  // }\r\n  const findCourses = ( inputCourses ) => {\r\n    let list =[];\r\n    if( inputCourses ) {\r\n      inputCourses = inputCourses.split(',');      \r\n      inputCourses.forEach(course => {\r\n        if (courses) {\r\n          courses.find( (allCourse) =>{\r\n              if(parseInt(allCourse.id) === parseInt(course )){\r\n                  list.push(allCourse);\r\n              }\r\n              return null;\r\n          })\r\n        }\r\n      })\r\n      return list;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n \r\n\r\n \r\n      const foundCourses = findCourses(props.group.courses);\r\n      // const users = props.group.users;\r\n      let total = props.group.total_users;\r\n      let courseText = [];\r\n      if( foundCourses && foundCourses.length > 0){\r\n        foundCourses.forEach( course => {\r\n          const title = course.name.replace(/&amp;/g, \"&\")\r\n        courseText.push(<li className=\"course-item-title\" key={course.id}><Link to={`cursus/`+course.id} className=\"course-link\" title={`Ga naar ${course.name}`}>{title} ({course.count} video's)</Link></li>);\r\n        });\r\n      }\r\n      let descriptionText=\"\";\r\n      if(description ){\r\n        descriptionText = <section className=\"group__description\"><p>{description}</p></section> ;\r\n        \r\n      }else{\r\n        //return null;\r\n      }\r\n      // let icon = <button className=\"btn\" onClick={ this.deleteHandler }><MaterialIcon icon=\"delete\" color=\"#004475\" /></button>;\r\n      if( name ===\"Registered\") {  \r\n        return null;\r\n      } else {\r\n        // const listShow = null ;\r\n        const listShow = <GroupTable users={ users } /> ;\r\n        return (\r\n          <article className=\"group__item\" id={\"group_\"+group_id}>\r\n            <input type=\"checkbox\" className=\"invi-select\" id={\"Choice\"+group_id } name=\"course_select\"></input>\r\n            <label htmlFor={\"Choice\"+group_id } className=\"group__label\">\r\n              <header className=\"dashboard-item-header\">\r\n                <h3>{name} <span className=\"circle\" title={'Aantal studenten: ' + total} >{total}</span></h3>\r\n              </header>\r\n            </label>\r\n            <section className=\"group_table\">\r\n              {descriptionText}\r\n              <section className=\"group__description\">\r\n              { listShow }  \r\n                <button className=\"btn\" onClick={ showGroupMembers }>{ users ? 'Verberg Cursisten' : 'Toon cursisten' }</button>\r\n                  <h5>Deze groep volgt de volgende cursus(sen): </h5>\r\n                  <ul className=\"course-listing\">{courseText}</ul>\r\n              </section>\r\n            <button className=\"btn disabled\" disabled>De-activeer Groep</button>\r\n            <button className=\"btn disabled\" disabled>Download Excel</button>\r\n            </section>\r\n          </article>\r\n        )\r\n      } \r\n}\r\nexport default GroupItem;\r\n// GroupItem.contextType = Context;","import React , { useContext ,useEffect } from 'react';\r\nimport GroupItem from './GroupItem';\r\nimport Spinner from '../layout/Spinner';\r\nimport UsersContext from '../../context/users/usersContext';\r\n\r\n\r\nconst AllGroups = (props) => {\r\n\r\n  const usersContext = useContext( UsersContext );\r\n  const { getGroups ,groups } = usersContext;\r\n\r\n  useEffect(() => {\r\n    getGroups();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  \r\n  const groupItems = [];\r\n  if( groups && groups.length > 0 ){\r\n    groups.forEach((group, index) => {\r\n      groupItems.push(\r\n      <GroupItem \r\n        group={group} \r\n        key={index}\r\n        // deleteHandler={deleteHandler} \r\n        // showUserProfile={ showUserProfile } \r\n      /> ) } )\r\n    } else {\r\n      groupItems.push( <span key=\"werwrevhtuy\" ><h4>Groepen worden geladen...</h4><Spinner /></span> );\r\n    }\r\n  \r\n  return (\r\n    <section className=\"dashboard-item\">\r\n      <header className=\"dashboard-item-header\"><h3>Groepen: ({ groups ? groups.length : 0 })</h3></header>\r\n      <article className=\"dashboard-item-content\">\r\n        <section className=\"groups__grid\">{groupItems}</section>\r\n      </article>\r\n    </section>\r\n  )\r\n\r\n}\r\nexport default AllGroups;\r\n","import React, { useContext,  useState } from 'react';\r\nimport UsersContext from '../../../context/users/usersContext';\r\n\r\n\r\nconst AddToGroup = () => {\r\n  const usersContext = useContext(UsersContext);\r\n  const { groups, addNewUserToGroup, currentUser } = usersContext;\r\n  \r\n  const [group, setGroup] = useState('');\r\n\r\n\r\n\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    const uID = currentUser.id;\r\n    console.log(uID , group);\r\n    addNewUserToGroup ( uID ,group )\r\n  }\r\n\r\n  const onChange = e => {\r\n    setGroup(e.target.value);\r\n   \r\n  }\r\n\r\n\r\n  let groupList;\r\n  if (groups) {\r\n    const userGroups = currentUser.groups;\r\n    groupList = groups.map(item => {\r\n      const found = userGroups.find(uGroup => uGroup.group.group_id === item.id);\r\n      if (found) {\r\n        return ( <option key = { item.id } value = { item.id } disabled > { item.group.name }</option > )\r\n      } else {\r\n\r\n        return ( <option key = { item.id } value = { item.id } > { item.group.name }</option > )\r\n      }\r\n    } );\r\n  \r\n  }\r\n  return (\r\n    <div className=\"add_to_group disabled\">\r\n      <h3>Voeg toe aan een nieuwe groep</h3>\r\n      <form onSubmit={ onSubmit } >\r\n        <section className=\"form__item\">\r\n            <label htmlFor=\"select1\" ><span className=\"alert\">* </span>Selecteer groep:</label>\r\n          <select className=\"select-css\" name=\"group\" onChange={onChange} value={ group } required >{ groupList }</select>\r\n        </section>\r\n        <section >\r\n          <button className=\"btn important_btn\" disabled>Voegtoe aan Groep</button>\r\n        </section>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddToGroup\r\n","import React from 'react';\r\n\r\nconst divStyle = {\r\n  color: 'white',\r\n backgroundColor : 'var(--secondary-color)',\r\n padding : '5px'\r\n};\r\n\r\nconst ActiveSubscriptionsRowItem = props =>{\r\n\r\n  \r\n  // const coursesContext = useContext(CoursesContext);\r\n  // const { courses } = coursesContext;\r\n  // const { currentUser } = usersContext;\r\n \r\n\r\n//   const toggleSubscriptionItem = () => {\r\n// // console.log( \"is OPen: \" , this.state.isOpen)\r\n//     this.setState({ isOpen : !this.state.isOpen})\r\n//     if( !this.state.isOpen) {\r\n//       return ( <MaterialIcon icon=\"expand_more\" color=\"white\" />)\r\n//     } else {\r\n//       return ( <MaterialIcon icon=\"expand_less\" color=\"white\" />)\r\n//     }\r\n      \r\n//   }\r\n  const courses = props.courses;\r\n\r\n    let list=[]\r\n    if( courses && courses.length > 0){\r\n    \r\n      courses.forEach( (element, index) => {        \r\n        let name = element.name;       \r\n        list.push(\r\n          <li key={index}>\r\n          {name}\r\n          </li>\r\n        )\r\n      })\r\n    }\r\n    let status = props.status;\r\n    let title = \"Status: In afwachting\";\r\n    if( status === null || status === '0'){\r\n      status = 0;\r\n    } else if( status === '1'){\r\n      title = \"Status: Actief\";\r\n    } else {\r\n      title =\"Status: Inactief\"; \r\n    }\r\n    // const status_name = <span title={title} className={'state state_'+status}></span>;\r\n   \r\n    return (\r\n      <div className=\"grouped\" key={props.index } >\r\n        <h4 title=\"Dit is de inlog code voor de student of docent\" style={divStyle}> { props.factuurnummer}   <span title={title} className= {`state state_${status}`} /> </h4>      \r\n        <section className=\"subscription_courses_list\">\r\n          <ol>\r\n          {list}\r\n          </ol>\r\n        </section>\r\n        <button className=\"btn btn-small disabled\" disabled >De-activeer inschrijving</button>\r\n      </div>\r\n    )\r\n}\r\nexport default ActiveSubscriptionsRowItem;","import React, {  useContext ,useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport Spinner from '../layout/Spinner';\r\n// import Pagination from './Pagination';\r\n// import CoursesContext from '../../context/courses/coursesContext';\r\nimport ProgressContext from '../../context/progress/progressContext';\r\nimport UsersContext from '../../context/users/usersContext';\r\n\r\n\r\n\r\nconst ViewedList = props => {\r\n  // const coursesContext = useContext(CoursesContext);\r\n  const progressContext = useContext(ProgressContext);\r\n  const usersContext = useContext(UsersContext);\r\n  // const { courses } = coursesContext;\r\n  const { getProgress, progress, total } = progressContext;\r\n  const { currentUser } = usersContext;\r\n\r\n  useEffect(() => {\r\n    if (currentUser) getProgress(currentUser.id, 20);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  if( progress ){\r\n    if( progress[0] === 'empty'){\r\n      return(<div>Geen video's bekeken</div>)\r\n    } else{\r\n      let el = [];\r\n      console.log(progress);\r\n      if ( Array.isArray(progress)) {\r\n        progress.map((e, index) => {\r\n          const viewed = '100%';\r\n          // const viewed = e.perc_viewed + '%';\r\n          let divStyle = {\r\n            color: 'white',\r\n            width: viewed,\r\n            WebkitTransition: 'all', // note the capital 'W' here\r\n            msTransition: 'all' // 'ms' is the only lowercase vendor prefix\r\n          };\r\n          el.push(\r\n            <tr key={index} className=\"viewed__list__item\">\r\n              <td><Link to={`/video/${e.course_id}/${e.video_id}`}><MaterialIcon icon=\"play_circle_filled\" />{e.videoTitle}</Link></td>\r\n              <td><div className=\"progress-bar\"><div className=\"bar\" style={divStyle}></div>\r\n                {/* {e.perc_viewed} */}\r\n              </div></td>\r\n              <td>{e.last_viewed}</td>\r\n            </tr>)\r\n          return el;\r\n        }\r\n        )\r\n      } else {\r\n        el.push(<tr key={0} className=\"viewed__list__item\">\r\n          <td>Nog geen video's bekeken</td>\r\n          <td></td>\r\n          <td></td>\r\n        </tr>)\r\n      }\r\n      return (\r\n        <section className=\"dashboard\">\r\n          <header className=\"dashboard-item-header\">\r\n            <h4> { total } bekeken video's</h4>\r\n          </header>\r\n          <div>\r\n            <table className=\"viewed__list\">\r\n              <thead><tr>\r\n                <th>Video Titel</th>\r\n                <th>Voortgang</th>\r\n                <th>Laatst bekeken</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n                {el}\r\n              </tbody>\r\n            </table>\r\n            {/* <Pagination controller={props.list} navigate={ props.navigate} getNewProgress={props.getNewProgress} /> */}\r\n          </div>\r\n      </section>\r\n    ) }\r\n  } else { return ( <div><Spinner/></div> ) }\r\n}\r\n\r\nexport default ViewedList;","import React, { useContext  } from 'react';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport UsersContext from '../../context/users/usersContext';\r\nimport ProgressContext from '../../context/progress/progressContext';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\n\r\n\r\nimport AddToGroup from './includes/AddToGroup';\r\n// import SubscriptionsForm from './SubscriptionsForm';\r\n\r\nimport ActiveSubscriptionsRowItem from './ActiveSubscriptionsRowItem';\r\nimport ViewedList from './ViewedList';\r\n\r\n\r\nconst Modal = props => {\r\n\r\n    const usersContext = useContext(UsersContext);\r\n    const progressContext = useContext(ProgressContext);\r\n    const coursesContext = useContext(CoursesContext);\r\n\r\n    const { currentUser , deleteUserProfile ,removeUserFromGroup } = usersContext;\r\n    const { courses } = coursesContext;\r\n    const { cleanUpProgress } = progressContext;\r\n    \r\n\r\n    //Close the Modal\r\n    const onClose = (e) => {\r\n        e.preventDefault();\r\n        cleanUpProgress();\r\n        deleteUserProfile();\r\n    }\r\n    const onClick = e => {\r\n        e.preventDefault();\r\n        const confirmed = window.confirm(\"Hiermee wordt de gebruiker uit de groep gezet en de bijbehorende inschrijving op non-actief.\\nDeze actie kan niet ongedaan worden gemaakt!\\n\\nWeet u zeker \");\r\n        if (confirmed) {\r\n            console.log(\"Confirmed: \" + e.target.dataset.id);\r\n            const data = {\r\n                action: 'removeFromGroup',\r\n                userid: currentUser.id,\r\n                groupid :  e.target.dataset.id\r\n            }\r\n            removeUserFromGroup(data );\r\n        } else {\r\n            console.log(\"Not Confirmed\"+e.target.dataset.id )\r\n        }\r\n    }\r\n\r\n    // create an Icon\r\n    const setIcon = role => {\r\n        switch (role) {\r\n            case \"student\":\r\n                return <MaterialIcon icon=\"person_outline\" color=\"white\" title={role} />;\r\n                \r\n            case \"docent\":\r\n                return <MaterialIcon icon=\"person\" color='white' title={role} />;\r\n              \r\n            default:\r\n                return <MaterialIcon icon=\"person\" color='white' title={role} />;\r\n        }\r\n    }\r\n\r\n    // Show the Modal when a User is selected \r\n    if (currentUser) {\r\n        const {  display_name, role, email, subscriptions, groups } = currentUser;\r\n        // const date = new Date(user_registered);\r\n        // const registered = date.toLocaleString(\"nl-NL\");\r\n        let groupNames = [];\r\n        if (groups.length > 0) {\r\n            groups.forEach(element => { groupNames.push(<button className=\"btn btn-delete disabled\" disabled data-id={element.group.group_id} key={element.group.group_id} title={`Verwijder gebruiker uit ${element.group.name}`} onClick={onClick}> {element.group.name} </button> )});\r\n        }\r\n       \r\n        const list = subscriptions.map((subscription, index) => {\r\n            const { subscriptionmeta, active } = subscription;\r\n            const total = parseInt(subscriptionmeta.cursussen[0]);\r\n            let coursesList = [];\r\n            let list = [];\r\n            for (let i = 0; i < total; i++) {\r\n                const courseID = subscriptionmeta['cursussen_' + i + '_cursus_id'][0];\r\n                courses.find((course) => { if (course.id === parseInt(courseID)) { coursesList.push(course) }; return null; });\r\n            }\r\n            list.push(<ActiveSubscriptionsRowItem key={index} factuurnummer={subscriptionmeta.factuurnummer} index={index} courses={coursesList} status={active} />);\r\n            return list;\r\n        });\r\n\r\n        let emailDocent, inschrijvingenStudent;\r\n        \r\n        if (role === \"docent\") {\r\n            emailDocent = <tr><td>Email Docent:</td><td>{email}</td></tr>;\r\n        }\r\n        if (role === \"student\") {\r\n            inschrijvingenStudent = <tr><td>Inschrijvingen: </td><td>{list}</td></tr>;\r\n        }\r\n        // if (progress && progress.length > 0) { total = progress.length };\r\n        return (\r\n            <div className=\"modal user-modal\" onClick={onClose}>\r\n                <section className=\"modal-box\" onClick={e => e.stopPropagation()}>\r\n                    <header className=\"modal-header\">\r\n                        <span className=\"modal-header-grid\">\r\n                            { setIcon( role ) }\r\n                            <h1>{currentUser.firstname} {currentUser.lastname}  <small> ( Geregistreerd als {display_name} )</small>\r\n                            </h1>\r\n                            <button onClick={onClose} className=\"btn low-action-btn\"><MaterialIcon icon=\"close\" color=\"white\"/></button>\r\n                        </span>\r\n                    </header>\r\n                    <article className=\"modal-main-content\">\r\n                        <table className=\"colofon\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Voornaam:</td>\r\n                                <td>{currentUser.firstname}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Achternaam:</td>\r\n                                <td>{currentUser.lastname}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Rol: </td>\r\n                                <td>{currentUser.role}</td>\r\n                            </tr>\r\n                                { emailDocent }\r\n                           \r\n                            <tr>\r\n                                <td>Lid van groep(en): </td>\r\n                                <td>{groupNames}</td>\r\n                            </tr>\r\n                            { inschrijvingenStudent }\r\n                            </tbody>\r\n                        </table>\r\n                      { role === 'student' ?  <ViewedList /> : <AddToGroup /> }\r\n                    </article>\r\n                    <footer>\r\n                        <button className=\"btn btn-flat\" onClick={onClose}>Sluit venster</button>\r\n                    </footer>\r\n                </section>\r\n            </div>\r\n        )\r\n    } else {\r\n        return null;\r\n    }\r\n    \r\n}\r\nexport default Modal;","import React, {  useContext , useEffect } from 'react';\r\nimport Users from './Users';\r\nimport { SITE_TITLE } from '../../context/types';\r\n\r\nimport NewGroup from './NewGroup';\r\n\r\nimport './Administratie.css';\r\nimport AllGroups from './AllGroups';\r\n\r\nimport Spinner from '../layout/Spinner';\r\nimport Modal from './Modal';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\n\r\nconst Administratie = props => {\r\n\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { isAuthenticated, user, isLoggedIn } = authContext;\r\n  \r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      isLoggedIn()\r\n    }\r\n    // eslint-disable-next-line\r\n  },[ isAuthenticated ])\r\n  // const  findIndex = ( id ) => {\r\n  //     const list = this.state.courses;\r\n  //     for ( let index in list ) { if( list[index].id === id ){ return  index } };\r\n  //   }\r\n\r\n  if ( isAuthenticated ) {\r\n    const title = `Administratie Paneel - ${ SITE_TITLE}`;\r\n    document.title = title;\r\n    const role = user.roles;\r\n     if( role === \"instelling\" || role=== \"administrator\") {\r\n      return (\r\n        <div className=\"container\">\r\n          <header className=\"card-header\"><h2>Administratie Paneel</h2></header>\r\n          <main className=\"dashboard\">\r\n            <section className=\"dashboard__item\">\r\n            <input type=\"checkbox\" className=\"invi-select\" id=\"db1\" name=\"group_select\"></input>\r\n            <label htmlFor=\"db1\" className=\"group__label\">\r\n              <header className=\"dashboard-item-header\" ><h3><span className=\"blob\">1</span> Groepen</h3></header>\r\n              </label>\r\n              <section className=\"dashboard__description\"><p>Maak allereerst een groep aan en koppel hieraan cursus(sen).</p></section>\r\n              <article className=\"dashboard__item-columns\">\r\n                <NewGroup />\r\n                <AllGroups />\r\n              </article>\r\n            </section>\r\n            <section className=\"dashboard__item\">\r\n              <Users /> \r\n            </section>\r\n          </main>\r\n         <Modal />\r\n        </div>\r\n      )\r\n     } else {\r\n       return(\r\n         <React.Fragment>\r\n           <div className=\"container\">\r\n            <header className=\"card-header\"><h2>Geen Toegang</h2></header>\r\n            <main><p>U heeft omvoldoende rechten om deze pagina te kunnen bekijken.</p></main>\r\n           </div>\r\n         </React.Fragment>\r\n       )\r\n     }\r\n      \r\n    } else {\r\n      return(\r\n        <Spinner />\r\n      )\r\n    }\r\n   \r\n  \r\n}\r\nexport default  Administratie;\r\n\r\n","import React, {  useContext } from 'react'\r\nimport UsersContext from '../../context/users/usersContext';\r\nimport MaterialIcon from 'material-icons-react';\r\n\r\nconst GroupsTableRow = props => {\r\n\r\n  const usersContext = useContext(UsersContext); \r\n  const { getUserProfile } = usersContext;\r\n\r\n\r\n  const clickHandler = ( e ) =>{\r\n    e.preventDefault();\r\n    getUserProfile( props.user );\r\n    // console.log(\"Click\", e.target.id)\r\n  }\r\n  const downloadHandler = ( e ) =>{\r\n    e.preventDefault();\r\n    props.downloadProgress( e.target.id);\r\n    //  console.log(\"Click\", e.target.id)\r\n  }\r\n \r\n    const {id , first_name, last_name, roles, subscriptions } = props.user; //#endregion\r\n  const role = roles\r\n  let subscription = null;\r\n  let status = \"1\";\r\n  if ( subscriptions && subscriptions.length > 0) {\r\n    subscription = subscriptions[0];\r\n    status = subscription.active;\r\n  }\r\n    let title = \"Status: In afwachting\";\r\n    if( status === null || status===\"0\" ){\r\n      status = 0;\r\n    } else if( status === \"1\"){\r\n      title = \"Status: Actief\";\r\n    } else {\r\n      title =\"Status: Inactief\"; \r\n    }\r\n    const status_name = <span title={title} className={'state state_'+status}></span>;\r\n    let icon ='';\r\n    switch (role.toLowerCase()) {\r\n      case \"student\":\r\n      icon = <MaterialIcon icon=\"person_outline\" color=\"#49b4aa\" title={`${role}_${id}`} />\r\n      break;\r\n      case \"docent\":\r\n      icon = <MaterialIcon icon=\"person\" color='#2d89cc' title={role}/>\r\n      break;\r\n      default :\r\n      icon = <MaterialIcon icon=\"person\" color='#004474' title={role}/>\r\n    }\r\n    return (\r\n      <tr className=\"user-list__item\">\r\n      <td className=\"user-list__icon\">{icon }</td>\r\n        <td className=\"user-list__name\" >\r\n          <div onClick={ clickHandler } id={ id} >{ first_name } { last_name }</div>\r\n        </td>\r\n        <td className=\"user-list__date\" ><strong>{  subscription?subscription.subscription: 'N.v.t'}</strong></td>\r\n        <td className=\"user-list__date\" >{subscription?<MaterialIcon icon=\"archive\" onClick={downloadHandler} id={id} /> : null}</td>\r\n        <td className=\"user-list__date\" >{status_name}</td>\r\n      </tr>\r\n    )\r\n}\r\nexport default GroupsTableRow;","import React from 'react'\r\nimport GroupsTableRow from './GroupsTableRow';\r\n\r\n\r\nconst GroupTable = props => {\r\n\r\n  \r\n  // const downloadProgress = ( id ) => {console.log( id )\r\n  //   props.downloadProgress( id );\r\n  // }\r\n  const users = props.users;\r\n\r\n  let list=[]\r\n  if( users && users.length > 0){\r\n    users.forEach( (user, index) => { \r\n      if(user.roles === 'student' || user.roles === 'docent'){ \r\n        list.push(<GroupsTableRow\r\n          user={user}\r\n          key={index}\r\n        />)\r\n      }      \r\n    }) \r\n\r\n  const iconStyle = {\r\n    width : '2%'\r\n  };\r\n  const textStyle = {\r\n    width : '45%'\r\n  };\r\n  return (\r\n    <table className=\"user-list\"> \r\n      <thead>\r\n        <tr >\r\n        <th style={iconStyle}></th>\r\n          <th style={textStyle} >Student/ docent </th>\r\n          <th style={textStyle} >Registratie code: </th>\r\n          <th style={iconStyle} >Voortgang: </th>\r\n          <th style={iconStyle} >Actief: </th>\r\n        </tr> \r\n      </thead>\r\n      <tbody>\r\n        {list}\r\n      </tbody>\r\n    </table>\r\n  )\r\n    } else {\r\n      return (\r\n        <div>Lege groep</div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default GroupTable;\r\n","import React, { useContext , useState } from 'react'\r\nimport GroupTable from './GroupTable';\r\nimport { Link } from \"react-router-dom\";\r\nimport Spinner from '../layout/Spinner';\r\n\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\nimport { RESOURCE_URL, CHECKOUT } from '../../context/types';\r\n\r\nconst GroupItem = props => {\r\n\r\n  const coursesContext = useContext(CoursesContext);\r\n\r\n  const { courses } = coursesContext;\r\n  const [ users , setUsers ] = useState(null);\r\n  const [ showCourses , setShowCourses] = useState(false);\r\n  const [ loading , setLoading] = useState(false);\r\n  const [ currentList, setCurrentList] = useState(null);\r\n\r\n  let { name, group_id, description } = props.group.group;\r\n\r\n  const showGroupMembers = async () => {\r\n    if( users === null ){\r\n      setLoading(true);\r\n      const session = JSON.parse(localStorage.getItem('session'));\r\n      if ( session ) {\r\n      const headers = { headers : { 'Content-Type': 'application/json; charset=utf-8', 'authorization': 'Bearer ' +  session.token }}\r\n        \r\n        const path = `${RESOURCE_URL}/wp-json/hot/v2/groups/?id=${group_id}`;\r\n        try {\r\n          const results = await fetch(path , headers )\r\n          const jsonRes = await results.json();\r\n          setUsers( jsonRes.data[0].users );\r\n          setLoading(false);\r\n        } catch ( error ) {\r\n          console.log(\"ERROR\");\r\n           setLoading(false);\r\n        }\r\n      }\r\n    } else {\r\n      setUsers(null);\r\n    }\r\n  }\r\n  const getGroupExcel = async( e) => {\r\n     const path = `${RESOURCE_URL}/wp-admin/admin-ajax.php?action=group_csv_pull&id=${ group_id }&nonce=${ CHECKOUT }`;\r\n      try {\r\n        const results = await fetch(path  )\r\n        const jsonRes = await results.json();\r\n        console.log(jsonRes);\r\n        setLoading(false);\r\n      } catch ( error ) {\r\n        console.log(\"ERROR\");\r\n          setLoading(false);\r\n      }\r\n  }\r\n\r\n\r\n const showHideCourses = () =>{\r\n   setShowCourses( !showCourses );\r\n }\r\n\r\n  const findCourses = (inputCourses) => {\r\n      let list = [];\r\n      if (inputCourses) {\r\n          inputCourses = inputCourses.split(',');\r\n          inputCourses.forEach(course => {\r\n              courses.find((allCourse) => {\r\n                  if (parseInt(allCourse.id) === parseInt(course)) {\r\n                      list.push(allCourse);\r\n                  }\r\n                  return null;\r\n              })\r\n          })\r\n          return list;\r\n      } else {\r\n          return null;\r\n      }\r\n  }\r\n\r\n\r\n \r\n  const foundCourses = findCourses(props.group.courses);\r\n  \r\n  let total = props.group.total_users;\r\n  let courseText = [];\r\n  if (foundCourses && foundCourses.length > 0) {\r\n      foundCourses.forEach(course => {\r\n        const title = course.name.replace(/&amp;/g, \"&\")\r\n        courseText.push( <li className = \"course-item-title\"\r\n            key = { course.id } > <Link to = { `cursus/` + course.id }\r\n            className = \"course-link\"\r\n            title = { `Ga naar ${course.name}` } > { title }({ course.count }\r\n                video 's)</Link></li>);\r\n      });\r\n  }\r\n  let descriptionText = \"\";\r\n  if (description) {\r\n      descriptionText = <section className = \"group__description\" > <p > { description } </p></section > ;\r\n\r\n  }\r\n  // let icon = <button className=\"btn\" onClick={ this.deleteHandler }><MaterialIcon icon=\"delete\" color=\"#004475\" /></button>;\r\n  if (name === \"Registered\") {\r\n      return null;\r\n  } else {\r\n      const listShow = < GroupTable users = { users } /> ;\r\n      return ( \r\n      <article className = \"group__item\" id = { \"group_\" + group_id } >\r\n        <input type = \"checkbox\" className = \"invi-select\" id = { \"Choice\" + group_id } name = \"course_select\" />\r\n        <label htmlFor = { \"Choice\" + group_id } className = \"group__label\" >\r\n          <header className = \"dashboard-item-header\" >\r\n            <h3 > { name } <span className = \"circle\" title = { 'Aantal studenten: ' + total } > { total } </span></h3 >\r\n          </header>\r\n        </label >\r\n          { loading ? <Spinner /> : null }\r\n           { descriptionText } \r\n         <button className=\"btn\" onClick={ showGroupMembers }>{ users ? 'Verberg Cursisten' : 'Toon cursisten' }</button>\r\n         <button className=\"btn\" onClick={showHideCourses}>{ showCourses ? 'Verberg Cursussen' : 'Toon cursussen' }</button>\r\n        <section className = \"group__description\" >\r\n          <section className = \"table show\" > { listShow } </section>\r\n          <h5 > Deze groep volgt de volgende cursus(sen): </h5> \r\n          <ul className={`course-listing ${showCourses ? 'show' : 'hide' }`} > {courseText} </ul >\r\n        </section > \r\n         <a href={`${RESOURCE_URL}/wp-admin/admin-ajax.php?action=group_csv_pull&id=${ group_id }&nonce=${ CHECKOUT }` } className=\"btn download-link\" >Download studenten lijst.</a> \r\n        {/* <button className=\"btn \" onClick={ getGroupExcel }  > Download StudentenLijst </button > */}\r\n      </article >\r\n      )\r\n  }\r\n}\r\nexport default GroupItem;\r\n// GroupItem.contextType = Context;","import React, { useContext } from 'react';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport UsersContext from '../../context/users/usersContext';\r\n\r\nimport './Modal.css';\r\nimport ViewedList from '../administration/ViewedList';\r\nimport ProgressContext from '../../context/progress/progressContext';\r\n// import CoursesContext from '../../context/courses/coursesContext';\r\n\r\nconst Modal = props => {\r\n\r\n  const usersContext = useContext(UsersContext);\r\n  const progressContext = useContext(ProgressContext);\r\n//   const coursesContext = useContext(CoursesContext);\r\n  const { currentUser , deleteUserProfile } = usersContext;\r\n//   const { courses } = coursesContext;\r\n  const { progress } = progressContext;\r\n  const { cleanUpProgress } = progressContext;\r\n\r\n\r\n  const onClose = (e) => {\r\n    e.preventDefault();\r\n    cleanUpProgress();\r\n    deleteUserProfile();\r\n  }\r\n  // create an Icon\r\n \r\n  if (currentUser) {\r\n    const { first_name, last_name,  role , subscriptions } = currentUser;\r\n    // eslint-disable-next-line\r\n    let total = 0;\r\n    if (progress && progress.length > 0) { total = progress.length };\r\n  \r\n    return (\r\n        <div className=\"modal user-modal\" onClick={onClose}>\r\n            <section className=\"modal-box\" onClick={e => e.stopPropagation()}>\r\n                <header className=\"modal-header\">\r\n                    <span className=\"modal-header-grid\">\r\n                        <MaterialIcon icon=\"person_outline\" color=\"white\" title={role} />\r\n                        <h1>{first_name} {last_name} </h1>\r\n                        <button onClick={onClose} className=\"btn low-action-btn\"><MaterialIcon icon=\"close\" color=\"white\"/></button>\r\n                    </span>\r\n                </header>\r\n                <article className=\"modal-main-content\">\r\n                    <table className=\"colofon\">\r\n                      <tbody>\r\n                          <tr>\r\n                              <td>Voornaam:</td>\r\n                              <td>{first_name}</td>\r\n                          </tr>\r\n                          <tr>\r\n                              <td>Achternaam:</td>\r\n                              <td>{last_name}</td>\r\n                </tr>{\r\n                  role === 'student'? \r\n                          <tr>\r\n                              <td>Registratie Code:</td>\r\n                              <td><strong>{subscriptions[0].subscription}</strong></td>\r\n                          </tr> : null\r\n                          }\r\n                        </tbody>\r\n                    </table>\r\n                    <ViewedList />\r\n                </article>\r\n                <footer>\r\n                    <button className=\"btn btn-flat\" onClick={onClose}>Sluit venster</button>\r\n                </footer>\r\n            </section>\r\n        </div>\r\n    )\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n \r\n}\r\nexport default Modal;","import React, { Fragment, useContext, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport UsersContext from '../../context/users/usersContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport CoursesContext from '../../context/courses/coursesContext';\r\n\r\nimport { SITE_TITLE } from '../../context/types';\r\n\r\nimport Spinner from '../layout/Spinner';\r\nimport GroupItem from'./GroupItem';\r\nimport './Groups.css';\r\nimport Modal from '../layout/Modal';\r\n\r\n\r\nconst Groups = props => {\r\n\r\n    const usersContext = useContext(UsersContext);\r\n    const authContext = useContext(AuthContext);\r\n   const coursesContext = useContext(CoursesContext)\r\n    const { getGroups, groups } = usersContext; \r\n    const { user } = authContext;\r\n    const { courses, getCourses } = coursesContext;\r\n   \r\n\r\n    useEffect(() => {\r\n        getGroups();\r\n        if (!courses) {\r\n            getCourses();\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [courses]);\r\n   \r\n    // const handleChange = e => {\r\n    //     // this.setState({description: event.target.value});\r\n    //     console.log( e )\r\n    // }\r\n\r\n\r\n    // const onClose = () => {\r\n    //     // this.setState({ show : false })\r\n    // }\r\n    \r\n\r\n    \r\n    const findTutorGroup = ( group ,id ) =>{\r\n        if( group.id !== '1' ){\r\n        return( group.users.find(  user  => {\r\n            if( user.id === parseInt(id) ){\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n            } ) )\r\n\r\n        } else{\r\n            return false;\r\n        }\r\n    }\r\n    const findCourses = ( coursesList , courses ) => {\r\n        let list =[];\r\n        coursesList = coursesList.split(',');\r\n        const allCourses = courses;\r\n        coursesList.forEach( course =>{\r\n            allCourses.find( (allCourse) =>{\r\n                if(parseInt(allCourse.id) === parseInt(course )){\r\n                    list.push(allCourse);\r\n                }\r\n                return null;\r\n            })\r\n        })\r\n        return list;\r\n    }\r\n   \r\n    if( user ){\r\n        if (user.roles === \"docent\" || user.roles === \"instelling\") {\r\n            document.title = `Groepsbeheer - ${ SITE_TITLE }`;\r\n            const groupItems = [];\r\n            if( groups && groups.length > 0 ){\r\n                groups.forEach( \r\n                    ( group , index ) => { \r\n                        if( user.roles === \"docent\" ){ \r\n            \r\n                            // if(findTutorGroup( group , user.id )){\r\n                                const coursesgroup = findCourses( group.courses ,courses  )\r\n                                groupItems.push(<GroupItem group={group} courses ={coursesgroup} key={index} /> ) \r\n                            // }\r\n                        } else {\r\n                            groupItems.push(<GroupItem group={group} key={index} /> ) \r\n                        }\r\n                    } \r\n                )\r\n            } else {\r\n                groupItems.push( <span key=\"0\" ><h4>Groepen worden geladen...</h4><Spinner /></span> );\r\n            }\r\n            return (\r\n                <Fragment>\r\n                    <div className=\"container\">\r\n                      \r\n                        <section className=\"dashboard-item\">\r\n                            <header className=\"card-header\"><h1>Groepen</h1></header>\r\n                            <article className=\"dashboard-item-content\">\r\n                                <section className=\"groups__grid\">{groupItems}</section>\r\n                            </article>\r\n                            <footer className=\"dashboard-item-footer\"></footer>\r\n                        </section>\r\n                    </div>\r\n                    { <Modal /> }\r\n                </Fragment>\r\n            )\r\n            } else {\r\n                return (\r\n                    <div className=\"container\">\r\n                        <header className=\"card-header\"><h2>Geen Toegang</h2></header>\r\n                        <main>\r\n                            <p>U heeft omvoldoende rechten om deze pagina te kunnen bekijken.</p>\r\n                            <p>Ga terug naar de <Link to=\"/\">Start</Link>pagina om in te loggen</p>\r\n                        </main>\r\n                    </div>\r\n                )\r\n            }\r\n        } else {\r\n            return (\r\n                <div className=\"container\">\r\n                    <header className=\"card-header\"><h2>Geen Toegang</h2></header>\r\n                    <main className=\"dashboard center-warning\">\r\n\r\n                        <h4>U heeft omvoldoende rechten om deze pagina te kunnen bekijken.</h4>\r\n                        <p>Ga terug naar de <Link to=\"/\">Startpagina</Link> om in te loggen</p>\r\n                    </main>\r\n                </div>\r\n            )\r\n        }\r\n  \r\n}\r\nexport default Groups;","import React , { Component } from 'react';\r\nimport { BrowserRouter as Router , Route, Switch } from \"react-router-dom\";\r\n\r\nimport Navbar from \"./components/layout/Navbar\";\r\n\r\nimport Index from \"./components/layout/Index\";\r\nimport ProgressState from './context/progress/ProgressState';\r\nimport UsersState from './context/users/UsersState';\r\nimport CoursesState from './context/courses/CoursesState';\r\nimport AuthState from './context/auth/AuthState';\r\n// import Cart from \"./components/cart/Cart\";\r\nimport Coursedetail from \"./components/courses/Coursedetail\";\r\nimport PlayerContainer from './components/playerv2/PlayerContainer';\r\nimport Login from './components/login/Login';\r\nimport Administratie from './components/administration/Administratie';\r\nimport Groups from './components/groepsbeheer/Groups';\r\n\r\n\r\nimport './App.css';\r\n\r\nlet root = document.getElementById('root');\r\nconst basename = root.dataset.domain;\r\n\r\n\r\nclass App extends Component {\r\n    \r\n  render() {\r\n    return (\r\n       <AuthState>\r\n        <CoursesState>\r\n          <ProgressState>\r\n            <UsersState>\r\n              <Router basename={'/' + basename}>\r\n                <React.Fragment>\r\n                  <Navbar />\r\n                  <main className=\"main-window\">\r\n                    <Switch>\r\n                      <Route exact path=\"/\" component={Index} />\r\n                      <Route path=\"/cursus/:id\" component={Coursedetail} />\r\n                      {/* <Route path=\"/winkelmand\" component={ Cart } /> */}\r\n                      <Route path=\"/login\" component={Login} />\r\n                      <Route path=\"/video/:course_id/:id\" component={PlayerContainer} />\r\n                      <Route path=\"/administratie\" component={Administratie} />\r\n                      <Route path=\"/groepsbeheer\" component={Groups} />\r\n                    </Switch>\r\n                  </main>\r\n                \r\n                </React.Fragment>\r\n              </Router>\r\n            </UsersState>\r\n          </ProgressState>\r\n        </CoursesState>\r\n      </AuthState>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nif (document.getElementById('root')) {\r\n  console.log(\"Start\")\r\n  let root = document.getElementById('root')\r\n  let checkout = root.dataset.checkout;\r\n  let portal = root.dataset.port;\r\n  ReactDOM.render(<App checkout={ checkout } portal={portal}/>, document.getElementById('root'));\r\n}\r\n\r\n"],"sourceRoot":""}